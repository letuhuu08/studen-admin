(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ea11b6c"],{1681:function(t,e,a){},"16c8":function(t,e,a){"use strict";a("f0ec")},3168:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));const i={PHAN_QUYEN_CAN_BO:["ALL_CANBO_PHANQUYEN","CANBO_PHANQUYEN"],XEM_CAN_BO_ALL:["ALL_CANBO_XEM"],XEM_CAN_BO_DV:["CANBO_XEM"],THEM_MOI_CAN_BO_ALL:["ALL_CANBO_CAPNHAT"],THEM_MOI_CAN_BO_DV:["CANBO_CAPNHAT"],XEM_SINH_VIEN_ALL:["ALL_SINHVIEN_XEM"],XEM_SINH_VIEN_DV:["SINHVIEN_XEM"],THEM_MOI_SINH_VIEN_ALL:["ALL_SINHVIEN_CAPNHAT"],THEM_MOI_SINH_VIEN_DV:["SINHVIEN_CAPNHAT"],CAP_NHAT_ANH_CHO_SV_ALL:["ALL_ALBUM_CAPNHAT"],CAP_NHAT_ANH_CHO_SV_DV:["ALBUM_CAPNHAT"],CAP_NHAT_TIN_BAI_ALL:["ALL_TINBAI_CAPNHAT"],CAP_NHAT_TIN_BAI_DV:["TINBAI_CAPNHAT"],XEM_TIN_BAI_ALL:["ALL_TINBAI_XEM"],XEM_TIN_BAI_DV:["TINBAI_XEM"],DUYET_TIN_BAI:["TINBAI_DUYET"],HUY_XUAT_BAN_TIN_BAI:["TINBAI_HUY_XUATBAN"],XUAT_BAN_TIN_BAI:["TINBAI_XUATBAN"],CAP_NHAT_VA_THEM_BAN_DO:["BANDO_CAPNHAT"],XOA_BAN_DO:["BANDO_XOA"],CAP_NHAT_VA_THEM_LOAI_BAN_DO:["LOAI_BANDO_CAPNHAT"],XOA_LOAI_BAN_DO:["LOAI_BANDO_XOA"],THEM_NGUOI_DUNG:["IMPORT_USER"],ALL_NHATRO_CAPNHAT:["ALL_NHATRO_CAPNHAT"],ALL_NHATRO_XEM:["ALL_NHATRO_XEM"],NHATRO_CAPNHAT:["NHATRO_CAPNHAT"],NHATRO_XEM:["NHATRO_XEM"]}},"38b6":function(t,e,a){},4624:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("66e5");const n={name:"useAccountAuthorization",data(){return{}},mounted(){},methods:{handleCheckActionAuthor(t){const e=this,a=e.$cookies.get("UserInfo","").vaiTroSuDung.split(",");for(const i of a)if(t.includes(i))return!0;return!1},handleCheckAuthor(t,e){var a;const n=this;let o="";const s=null===(a=n.$cookies.get("UserInfo",""))||void 0===a?void 0:a.vaiTroSuDung.split(",");for(const l of s){if(t.includes(l)){o=i["a"].ALL;break}e.includes(l)&&(o=i["a"].ALONE)}return o}}}},"469b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"btn-form mx-0 text-white mr-3",attrs:{small:"",color:"primary"},on:{click:function(e){t.openDialogSendNotify=!0}}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-send")]),t._v("  Gửi thông báo ")],1),a("v-btn",{staticClass:"btn-form mx-0 text-white mr-3",attrs:{disabled:t.checkDisable,small:"",color:"primary"},on:{click:t.repuestAddImage}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-file-plus")]),t._v("  Yêu cầu thêm ảnh ")],1),t.checkAuthorImportFile?a("v-btn",{staticClass:"btn-form mx-0 text-white mr-3",attrs:{small:"",color:"primary"},on:{click:t.handleFile}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-note")]),t._v("  Chọn file ")],1):t._e(),a("v-btn",{staticClass:"btn-form mx-0 mr-3 text-white",attrs:{small:"",color:"primary"},on:{click:function(e){t.toggleAdvanceSearch=!t.toggleAdvanceSearch}}},[t.toggleAdvanceSearch?a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant")]):a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant-plus")]),t._v("  Tìm kiếm ")],1),t.checkActionAddAndUpdate?a("v-btn",{class:(t.checkAuthorImportFile,"btn-form mx-0 text-white"),attrs:{small:"",color:"primary"},on:{click:t.showModalForm}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-plus")]),t._v("  Thêm mới ")],1):t._e()],1)])],1),t.toggleAdvanceSearch?a("v-card",{staticClass:"mt-5",attrs:{outlined:"",elevation:"0",flat:""}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Nhập từ khóa tìm kiếm:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"","hide-details":"auto",placeholder:"Nhập từ khóa tìm kiếm","append-icon":"mdi-magnify"},on:{"click:append":function(e){return t.getListstudentFilter("")},"click:clear":function(e){return t.getListstudentFilter("clear")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getListstudentFilter("")}},model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}})],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Trạng thái tải ảnh:")]),a("div",[a("v-select",{staticClass:"input-form",attrs:{items:t.optionStatusUpoadFile,placeholder:"Trạng thái tải ảnh",dense:"",clearable:"",solo:""},on:{change:t.handlechangeSelectedCheckFile},model:{value:t.statusUpoadFile,callback:function(e){t.statusUpoadFile=e},expression:"statusUpoadFile"}})],1)]),t.unitId?t._e():a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Cơ quan đơn vị:")]),a("div",[a("v-select",{staticClass:"input-form",attrs:{items:t.optionAgencies,placeholder:"Cơ quan đơn vị",dense:"",clearable:"",solo:""},on:{change:t.handlechangeSelectedAgencies},model:{value:t.agenciesValue,callback:function(e){t.agenciesValue=e},expression:"agenciesValue"}})],1)])],1)],1)],1):t._e(),a("v-row",{staticClass:"my-0 mb-3"},[a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-data-table",{staticClass:"table-base mt-2",attrs:{"show-select":!t.checkDisable,headers:t.headers,items:t.listStudent,"items-per-page":t.itemsPerPage,"item-key":"PrimKey","hide-default-footer":"","no-data-text":"Không có dữ liệu",loading:t.loadingData,"loading-text":"Đang tải... ","item-text":"name"},on:{"toggle-select-all":t.selectAllToggle},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var i=e.item,n=e.isSelected,o=e.select;return[i.MainImage.FileUrl?t._e():a("v-simple-checkbox",{attrs:{value:n,ripple:!1},on:{input:function(t){return o(t)}}})]}},{key:"item.stt",fn:function(e){var a=e.index;return[t._v(" "+t._s((t.page+1)*t.itemsPerPage-t.itemsPerPage+a+1)+" ")]}},{key:"item.thaotac",fn:function(e){var i=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"#2161b1",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.viewDetailStudent(i)}}},"v-btn",o,!1),n),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-clipboard-text")])],1)]}}],null,!0)},[a("span",[t._v("Thông tin chi tiết sinh viên")])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t.pageCount?a("pagination",{attrs:{pageInput:t.page,total:t.total,pageCount:t.pageCount},on:{"tiny:change-page":t.handlechangePage}}):t._e()],1)],1),t.dialogForm?a("div",[a("v-dialog",{attrs:{"max-width":"800px",persistent:"",fullscreen:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[t.edittingForm?a("v-toolbar-title",[t._v("Cập nhật sinh viên")]):t._e(),t.edittingForm?t._e():a("v-toolbar-title",[t._v("Thêm mới sinh viên")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeModalForm}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("FormSinhVien",{ref:"formSinhVienBoRef",attrs:{dataEdit:t.dataEdit,unitId:t.unitId,checkActionAddAndUpdate:t.checkActionAddAndUpdate}}),a("v-card-text",{staticClass:"px-2 py-2"},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.closeModalForm}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.submitForm.apply(null,arguments)}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),t.edittingForm?a("span",[t._v("Cập nhật")]):a("span",[t._v("Thêm mới")])],1)],1)],1)],1)],1)],1):t._e(),t.dialogFormDetails?a("div",[a("v-dialog",{attrs:{"max-width":"1400px",persistent:""},model:{value:t.dialogFormDetails,callback:function(e){t.dialogFormDetails=e},expression:"dialogFormDetails"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Thông tin chi tiết sinh viên")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeModalFormDetail}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("DetailStudent",{attrs:{dataStudent:t.dataEdit}}),a("v-card-text",{staticClass:"px-2 py-2",staticStyle:{background:"#eee"}},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.closeModalFormDetail}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.editStudent.apply(null,arguments)}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),a("span",[t._v("Sửa thông tin sinh viên")])],1)],1)],1)],1)],1)],1):t._e(),t.openDialogSendNotify?a("div",[a("v-dialog",{attrs:{"max-width":"800px",persistent:""},model:{value:t.openDialogSendNotify,callback:function(e){t.openDialogSendNotify=e},expression:"openDialogSendNotify"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Gửi thông báo")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.openDialogSendNotify=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("FormSendNotify",{ref:"formSendNotifyRef"}),a("v-card-text",{staticClass:"px-2 py-2"},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){t.openDialogSendNotify=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.handleSendNotify.apply(null,arguments)}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),a("span",[t._v("Xác nhận")])],1)],1)],1)],1)],1)],1):t._e(),a("v-dialog",{attrs:{persistent:"","max-width":"586"},model:{value:t.dialogChoose,callback:function(e){t.dialogChoose=e},expression:"dialogChoose"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-card-title",{staticClass:"text-h7 text-center"},[t._v(" Chọn cơ quan đơn vị ")])],1),a("div",{staticClass:"mt-2 px-5"},[a("v-autocomplete",{staticClass:"flex input-form",attrs:{"hide-no-data":"",items:t.optionAgencies,dense:"",solo:"","hide-details":"auto",clearable:"","return-object":"",placeholder:"Cơ quan đơn vị"},model:{value:t.donViSearch,callback:function(e){t.donViSearch=e},expression:"donViSearch"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:function(e){t.dialogChoose=!1}}},[t._v(" Thoát ")]),a("v-btn",{attrs:{color:"primary darken-1",text:""},on:{click:t.handleSendRequieImg}},[t._v(" Gửi ")])],1)],1)],1),a("input",{ref:"inputFileRef",staticClass:"hide-input",attrs:{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel,text/comma-separated-values, text/csv, application/csv"},on:{change:t.handleChangeFile}})],1)},n=[],o=(a("13d5"),a("e20e")),s=a("854a"),l=a.n(s),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formSinhVienRef",staticClass:"dialog-body",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Họ và tên: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.required],solo:"",label:"Nhập tên đầy đủ...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.HoVaTen,callback:function(e){t.$set(t.formData,"HoVaTen",e)},expression:"formData.HoVaTen"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số CCCD:")]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.idCard],solo:"",label:"Nhập CCCD...",dense:"","hide-details":"auto"},model:{value:t.formData.ChungMinhThu,callback:function(e){t.$set(t.formData,"ChungMinhThu",e)},expression:"formData.ChungMinhThu"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số điện thoại:")]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.phone],solo:"",label:"Nhập số điện thoại...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.SoDienThoai,callback:function(e){t.$set(t.formData,"SoDienThoai",e)},expression:"formData.SoDienThoai"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Email VNU:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",label:"Nhập email...",dense:"","hide-details":"auto",disabled:!!t.dataEdit.EmailVNU},model:{value:t.formData.EmailVNU,callback:function(e){t.$set(t.formData,"EmailVNU",e)},expression:"formData.EmailVNU"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Ngày sinh: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.birthday],clearable:"",label:"Ngày sinh ...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":"",readonly:""},on:{blur:function(e){t.date=t.parseDate(t.formData.NgaySinh)},input:function(e){return t.handleChangeDate()}},model:{value:t.formData.NgaySinh,callback:function(e){t.$set(t.formData,"NgaySinh",e)},expression:"formData.NgaySinh"}},"v-text-field",n,!1),i))]}}]),model:{value:t.toggleShowMenuDate,callback:function(e){t.toggleShowMenuDate=e},expression:"toggleShowMenuDate"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuDate=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Giới tính:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionGender,label:"Chọn",dense:"",solo:""},model:{value:t.formData.GioiTinh,callback:function(e){t.$set(t.formData,"GioiTinh",e)},expression:"formData.GioiTinh"}})],1)],1),t.dataEdit.PrimKey?a("v-row",[t.checkActionUpload?a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"titleText mr-2"},[t._v(" "+t._s(t.showAddImg?"Thêm ảnh :":"Thêm thư mục ảnh:")+" ")]),a("v-btn",{staticClass:"btn-form mx-0 text-white",attrs:{small:"",color:"primary"},on:{click:t.handleOpenDialogAddFile}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-plus")]),t._v("  "+t._s(t.showAddImg?"Thêm ảnh":"Thêm thư mục")+" ")],1)],1),t.checkFile?a("v-btn",{attrs:{depressed:"","x-small":"",color:"primary"},on:{click:t.handleViewFile}},[t._v("Nhấn để xem tệp")]):t._e(),t.checkFile?a("v-btn",{staticClass:"mx-2",attrs:{depressed:"","x-small":"",color:"error"},on:{click:t.handleDeleteFile}},[t._v("Xóa tệp đính kèm ")]):t._e()],1):t._e()],1):t._e(),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Địa chỉ: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.required],solo:"",label:"Nhập địa chỉ...",dense:"","hide-details":"auto"},model:{value:t.formData.DiaChiThuongTru,callback:function(e){t.$set(t.formData,"DiaChiThuongTru",e)},expression:"formData.DiaChiThuongTru"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Tỉnh/thành: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"input-form",attrs:{rules:[t.rules.required],items:t.optionProvince,label:"Chọn",dense:"",solo:""},on:{change:t.handleChangeProvince},model:{value:t.formData.TinhThanh,callback:function(e){t.$set(t.formData,"TinhThanh",e)},expression:"formData.TinhThanh"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Quận/huyện: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"input-form",attrs:{rules:[t.rules.required],items:t.optionDistrict,label:"Chọn",dense:"",solo:""},on:{change:t.hanldeChangeDistrict},model:{value:t.formData.QuanHuyen,callback:function(e){t.$set(t.formData,"QuanHuyen",e)},expression:"formData.QuanHuyen"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Phường/xã: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"input-form",attrs:{rules:[t.rules.required],items:t.optionWard,label:"Chọn",dense:"",solo:""},model:{value:t.formData.PhuongXa,callback:function(e){t.$set(t.formData,"PhuongXa",e)},expression:"formData.PhuongXa"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Mã sinh viên:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",disabled:t.checkCondition,label:"Nhập mã sinh viên...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.MaSinhVien,callback:function(e){t.$set(t.formData,"MaSinhVien",e)},expression:"formData.MaSinhVien"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số báo danh:")]),a("v-text-field",{staticClass:"input-form",attrs:{disabled:!!t.dataEdit.SoBaoDanh,solo:"",label:"Nhập số báo danh...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.SoBaoDanh,callback:function(e){t.$set(t.formData,"SoBaoDanh",e)},expression:"formData.SoBaoDanh"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Mã nhập học:")]),a("v-text-field",{staticClass:"input-form",attrs:{disabled:!!t.dataEdit.MaNhapHoc,solo:"",label:"Nhập...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.MaNhapHoc,callback:function(e){t.$set(t.formData,"MaNhapHoc",e)},expression:"formData.MaNhapHoc"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số hồ sơ:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",label:"Nhập số hồ sơ...",dense:"","hide-details":"auto",disabled:!!t.dataEdit.SoHoSo},model:{value:t.formData.SoHoSo,callback:function(e){t.$set(t.formData,"SoHoSo",e)},expression:"formData.SoHoSo"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:t.dataEdit.PrimKey?6:12}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Cơ quan, đơn vị: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"input-form",attrs:{rules:[t.rules.required],items:t.optionAgencies,label:"Chọn",dense:"",solo:""},model:{value:t.formData.CoQuanDonVi,callback:function(e){t.$set(t.formData,"CoQuanDonVi",e)},expression:"formData.CoQuanDonVi"}})],1),t.dataEdit.PrimKey?a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Trạng thái tài khoản:")]),a("v-autocomplete",{staticClass:"input-form",attrs:{items:t.optionStatusAccount,label:"Chọn",dense:"",solo:""},model:{value:t.formData.TrangThaiTaiKhoan,callback:function(e){t.$set(t.formData,"TrangThaiTaiKhoan",e)},expression:"formData.TrangThaiTaiKhoan"}})],1):t._e()],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000"},model:{value:t.showDialogFolder,callback:function(e){t.showDialogFolder=e},expression:"showDialogFolder"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3"},[a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:t.handleCloseDialog}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-card-text",[a("v-container",[t.showAddImg?a("v-row",[a("v-col",{staticClass:"test",attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"wrap-img-file flex-wrap d-flex"}),a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"titleText mr-2"},[t._v("Thêm ảnh:")]),a("v-btn",{staticClass:"btn-form mx-0 text-white",attrs:{small:"",color:"primary"},on:{click:t.handleClickMultipeFile}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-plus")]),t._v("  Thêm ảnh ")],1)],1),a("input",{ref:"inputMultifilesRef",staticClass:"hide-input-file",attrs:{type:"file",accept:"image/*"},on:{change:t.handleChangeFile}})])],1):a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"titleText mr-2"},[t._v("Tên thư mục:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",label:"Nhập...",dense:"","hide-details":"auto"},model:{value:t.nameFolder,callback:function(e){t.nameFolder=e},expression:"nameFolder"}})],1)])],1)],1)],1),t.showAddImg?t._e():a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary"},on:{click:t.handleAddFolder}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),a("span",[t._v("Xác nhận")])],1)],1)],1)],1)],1)},r=[],d=a("2f62"),h=a("c1df"),u=a.n(h),m=a("3be3"),v=a("bc3a"),p=a.n(v),g=a("66e5"),f=a("3168"),_=a("4624"),C={props:["dataEdit","unitId","checkActionAddAndUpdate"],mixins:[_["a"]],data(){var t,e,a,i,n,o,s,l,c,r;return{formData:{SoDienThoai:(null===(t=this.dataEdit.DanhBaLienLac)||void 0===t?void 0:t.SoDienThoai)||"",ChungMinhThu:this.dataEdit.ChungMinhThu||"",MaSinhVien:this.dataEdit.MaSinhVien||"",SoBaoDanh:this.dataEdit.SoBaoDanh||"",GioiTinh:this.dataEdit.GioiTinh||"",HoVaTen:this.dataEdit.HoVaTen||"",MaNhapHoc:this.dataEdit.MaNhapHoc||"",SoHoSo:this.dataEdit.SoHoSo||"",NgaySinh:this.dataEdit.NgaySinh?u()(this.dataEdit.NgaySinh).format("DD/MM/YYYY"):"",EmailVNU:this.dataEdit.EmailVNU||"",DiaChiThuongTru:(null===(e=this.dataEdit.DiaChiThuongTru)||void 0===e?void 0:e.SoNhaChiTiet)||"",TinhThanh:(null===(a=this.dataEdit.DiaChiThuongTru)||void 0===a?void 0:a.TinhThanh)||"",QuanHuyen:(null===(i=this.dataEdit.DiaChiThuongTru)||void 0===i?void 0:i.QuanHuyen)||"",PhuongXa:(null===(n=this.dataEdit.DiaChiThuongTru)||void 0===n?void 0:n.PhuongXa)||"",CoQuanDonVi:null!==(o=this.dataEdit.CoQuanDonVi)&&void 0!==o&&o.MaHanhChinh?{TenGoi:this.dataEdit.CoQuanDonVi.TenGoi,MaHanhChinh:this.dataEdit.CoQuanDonVi.MaHanhChinh}:"",MainImageUrl:(null===(s=this.dataEdit)||void 0===s||null===(l=s.MainImage)||void 0===l?void 0:l.FileUrl)||"",TrangThaiTaiKhoan:(null===(c=this.dataEdit)||void 0===c?void 0:c.TrangThaiTaiKhoan)||"",ThuMucAnh:(null===(r=this.dataEdit)||void 0===r?void 0:r.ThuMucAnh)||""},validForm:!1,optionPosition:[],optionDistrict:[],optionWard:[],optionGroups:[],showDiglogFile:!1,checkFile:!1,idFile:"",filename:null,checkActionUpload:"",showDialogFolder:!1,optionStatusAccount:[{text:"Hoạt động",value:"2"},{text:"Không hoạt động",value:"1"}],rules:{required:t=>!!t||"Không được để trống.",email:t=>{const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Đây không phải là email"},birthday:t=>{const e=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;return e.test(t)||"Định dạng ngày sinh là: ngày/tháng/năm"},phone:t=>{const e=/^(0?)(3[2-9]|5[6|8|9]|7[0|6-9]|8[0-6|8|9]|9[0-4|6-9])[0-9]{7}$/;let a;return a=!t||(e.test(t)||"Sai định dạng số điện thoại"),a},idCard:t=>{const e=/^[0-9]{9,12}$/;return e.test(t)||"Định dạng sai số CCCD"}},idFolder:"",nameFolder:"",showAddImg:!1,toggleShowMenuDate:!1,date:"",listImage:[]}},mounted(){},created(){var t;const e=this;var a,i,n;(e.dataEdit&&null!==(t=e.dataEdit.MainImage)&&void 0!==t&&t.FileUrl&&(e.checkFile=!0),e.checkActionUpload=e.handleCheckAuthor(f["a"].CAP_NHAT_ANH_CHO_SV_ALL,f["a"].CAP_NHAT_ANH_CHO_SV_DV),e.checkActionUpload===g["a"].ALONE&&e.unitId!==e.dataEdit.CoQuanDonVi.MaHanhChinh&&(e.checkActionUpload=""),e.dataEdit.PrimKey)&&(e.listImage=e.dataEdit.MainImage.map(t=>t.FileUrl),null!==(a=e.dataEdit.DiaChiThuongTru)&&void 0!==a&&a.TinhThanh.MaMuc&&e.getDistrict(e.dataEdit.DiaChiThuongTru.TinhThanh.MaMuc),null!==(i=e.dataEdit.DiaChiThuongTru)&&void 0!==i&&i.QuanHuyen.MaMuc&&e.getWard(e.dataEdit.DiaChiThuongTru.QuanHuyen.MaMuc),null!==(n=e.dataEdit)&&void 0!==n&&n.ThuMucAnh.length&&(e.showAddImg=!0))},computed:{...Object(d["b"])(["listAgencies","listProvince","listGender"]),optionGender(){const t=this,e=t.listGender.map(t=>({text:t.tenMuc,value:{MaMuc:t.maMuc,TenMuc:t.tenMuc}}));return e},optionAgencies(){const t=this;let e=t.listAgencies;t.checkActionAddAndUpdate===g["a"].ALONE&&t.unitId&&e.filter(e=>e.maHanhChinh===t.unitId);const a=e.map(t=>({text:t.tenGoi,value:{MaHanhChinh:t.maHanhChinh,TenGoi:t.tenGoi}}));return a},optionProvince(){const t=this,e=t.listProvince.map(t=>({text:t.tenMuc,value:{MaMuc:t.maMuc,TenMuc:t.tenMuc,type:"C_TinhThanh"}}));return e},checkCondition(){const t=this;let e=!1;return t.dataEdit.MaNhapHoc&&t.isAdmin?e=!1:t.dataEdit.MaNhapHoc&&(e=!0),e}},methods:{handleAddFolder(){const t=this,e={...t.dataEdit,ThuMucMoi:t.nameFolder},a={payload:e,type:"sinhvien",id:t.dataEdit.PrimKey};t.$store.dispatch("editItemData",a).then((function(e){l.a.success("Thêm thư mục thành công"),t.showAddImg=!0,t.idFolder=e.data.resp.ThuMucAnh[0].MaThuMuc,t.formData.ThuMucAnh=e.data.resp.ThuMucAnh,t.showAddImg=!0})).catch((function(){}))},getDistrict(t){const e=this;let a={collectionName:"quanhuyen",data:{page:0,size:20,keyword:"",orderFields:"",orderTypes:"",thamChieu_maMuc:t,tinhTrang:"1"}};e.$store.dispatch("collectionFilter",a).then((function(t){const a=t.content;e.optionDistrict=a.map(t=>({text:t.tenMuc,value:{MaMuc:t.maMuc,TenMuc:t.tenMuc,type:"C_QuanHuyen"},districtCode:t.maMuc}))})).catch((function(){}))},getWard(t){const e=this;let a={collectionName:"phuongxa",data:{page:0,size:20,keyword:"",orderFields:"",orderTypes:"",thamChieu_maMuc:t,tinhTrang:"1"}};e.$store.dispatch("collectionFilter",a).then((function(t){const a=t.content;e.optionWard=a.map(t=>({text:t.tenMuc,value:{MaMuc:t.maMuc,TenMuc:t.tenMuc,type:"C_PhuongXa"}}))})).catch((function(){}))},validateForm(){let t=this;return t.$refs.formSinhVienRef.validate()},handleChangeProvince(t){const e=this;e.optionDistrict=[],e.optionWard=[],e.getDistrict(t.MaMuc)},hanldeChangeDistrict(t){const e=this;e.getWard(t.MaMuc)},handleCloseDialog(){const t=this;t.showDialogFolder=!1,t.listImage=[]},handleOpenDialogAddFile(){const t=this;t.showDialogFolder=!0,t.$nextTick(()=>{const e=t.$el.querySelector(".wrap-img-file");t.listImage.length&&t.listImage.forEach(t=>{e.append(Object.assign(new Image,{src:t,alt:`${t}-${Math.random()}`,className:"multipe-image"}))})})},handleClickRemoveImg(){},handleChangeFile(t){var e;const a=this,i=null===t||void 0===t?void 0:t.target.files[0],n=a.idFolder||(null===(e=a.dataEdit)||void 0===e?void 0:e.ThuMucAnh[0].MaThuMuc);let o=new FormData;o.append("files",i),o.append("id",a.dataEdit.PrimKey),o.append("maThuMuc",n);const s={type:"album/upload",payload:o};a.$store.dispatch("uploadFile",s).then((function(t){l.a.success("Thêm ảnh thành công"),a.listImage.push(t.data.fullPathUrl)})).catch((function(){}))},handleViewFile(){const t=this;t.showDiglogFile=!0},async handleDeleteFile(){const t=this;try{const e={method:"delete",url:`${m["a"]}album/${t.dataEdit.PrimKey}/attachment/${t.idFile?t.idFile:t.dataEdit.MainImage.Id}`,headers:{Accept:"application/json","Content-Type":"application/json"},data:{},params:{}};await p()(e),t.filename=null,l.a.success("Xóa thành công")}catch(e){}t.checkFile=!1},formatDate(t){if(!t)return null;const[e,a,i]=t.split("-");return`${i}/${a}/${e}`},parseDate(t){if(!t)return null;const[e,a,i]=t.split("/");return`${i}-${a.padStart(2,"0")}-${e.padStart(2,"0")}`},handleClickMultipeFile(){const t=this;t.$refs.inputMultifilesRef.click()}},watch:{date(){const t=this;t.formData.NgaySinh=t.formatDate(t.date)},listImage(t){const e=document.querySelector(".wrap-img-file");this.listImage.length&&e&&e.append(Object.assign(new Image,{src:t[t.length-1],alt:`${t[t.length-1]}-${Math.random()}`,className:"multipe-image"}))}}},T=C,S=(a("53cc"),a("2877")),D=a("6544"),A=a.n(D),x=a("c6a6"),b=a("8336"),y=a("b0af"),N=a("99d9"),M=a("62ad"),k=a("a523"),I=a("2e4b"),F=a("169a"),V=a("4bd4"),w=a("132d"),H=a("e449"),E=a("0fd9"),$=a("b974"),L=a("2fa4"),O=a("8654"),P=a("71d9"),B=a("2a7f"),G=Object(S["a"])(T,c,r,!1,null,null,null),U=G.exports;A()(G,{VAutocomplete:x["a"],VBtn:b["a"],VCard:y["a"],VCardActions:N["a"],VCardText:N["b"],VCol:M["a"],VContainer:k["a"],VDatePicker:I["a"],VDialog:F["a"],VForm:V["a"],VIcon:w["a"],VMenu:H["a"],VRow:E["a"],VSelect:$["a"],VSpacer:L["a"],VTextField:O["a"],VToolbar:P["a"],VToolbarItems:B["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"container-profile"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticStyle:{width:"100%",height:"100%"},attrs:{elevation:"2"}},[a("div",{staticClass:"title-card"},[t._v("Thông tin cơ bản")]),a("div",{staticClass:"px-5 py-5"},[a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Họ và tên:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.HoVaTen)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Ngày sinh:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.NgaySinh)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Số CCCD:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.ChungMinhThu)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Giới tính:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.GioiTinh)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("File ảnh:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[a("a",{attrs:{target:"_blank",href:t.student.MainImage}},[t._v(t._s(t.student.MainImageName))])])])])])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticStyle:{width:"100%",height:"100%"},attrs:{elevation:"2"}},[a("div",{staticClass:"title-card"},[t._v("Thông tin hành chính")]),a("div",{staticClass:"px-5 py-5"},[a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Mã sinh viên:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.MaSinhVien)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Email:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.EmailVNU)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Mã nhập học:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.MaNhapHoc)+" ")])]),a("div",{staticClass:"d-flex px-4 py-4 wrap-content-item"},[a("div",{staticStyle:{flex:"1"}},[t._v("Số báo danh:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.student.SoBaoDanh)+" ")])])])])],1)],1)],1)},X=[],q={props:["dataStudent"],data(){return{student:{HoVaTen:this.dataStudent.HoVaTen||"",ChungMinhThu:this.dataStudent.ChungMinhThu||"",NgaySinh:this.dataStudent.NgaySinh?u()(this.dataStudent.NgaySinh).format("DD/MM/YYYY"):"",MainImage:this.dataStudent.MainImage.FileUrl||"",MainImageName:this.dataStudent.MainImage.FileName||"",GioiTinh:this.dataStudent.GioiTinh.TenMuc||"",MaSinhVien:this.dataStudent.MaSinhVien||"",SoBaoDanh:this.dataStudent.SoBaoDanh||"",MaNhapHoc:this.dataStudent.MaNhapHoc||"",EmailVNU:this.dataStudent.EmailVNU||""}}},created(){},mounted(){},methods:{}},K=q,z=(a("16c8"),Object(S["a"])(K,R,X,!1,null,"51a5f420",null)),Q=z.exports;A()(z,{VCard:y["a"],VCol:M["a"],VContainer:k["a"],VRow:E["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formSendNotifyRef",staticClass:"dialog-body",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Tiêu đề: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.required],solo:"",placeholder:"Nhập...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.TieuDe,callback:function(e){t.$set(t.formData,"TieuDe",e)},expression:"formData.TieuDe"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Nội dung:")]),a("v-textarea",{staticClass:"input-form",attrs:{solo:"",placeholder:"Nhập nội dung...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.NoiDung,callback:function(e){t.$set(t.formData,"NoiDung",e)},expression:"formData.NoiDung"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Tên người gửi thông báo:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",placeholder:"Nhập...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.NguoiGuiThongBao,callback:function(e){t.$set(t.formData,"NguoiGuiThongBao",e)},expression:"formData.NguoiGuiThongBao"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số điện thoại:")]),a("v-text-field",{staticClass:"input-form",attrs:{rules:[t.rules.phone],solo:"",placeholder:"Nhập...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.SdtNguoiGui,callback:function(e){t.$set(t.formData,"SdtNguoiGui",e)},expression:"formData.SdtNguoiGui"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:t.isAdmin?6:12}},[a("div",{staticClass:"titleText mb-2"},[t._v("Hẹn lịch gửi thông báo:")]),a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{placeholder:"Chọn ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateSend=t.parseDate(t.textDateSend)}},model:{value:t.textDateSend,callback:function(e){t.textDateSend=e},expression:"textDateSend"}},"v-text-field",n,!1),i))]}}]),model:{value:t.toggleShowMenuDateSend,callback:function(e){t.toggleShowMenuDateSend=e},expression:"toggleShowMenuDateSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuDateSend=!1}},model:{value:t.dateSend,callback:function(e){t.dateSend=e},expression:"dateSend"}})],1)],1),t.isAdmin?a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Cơ quan đơn vị:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionAgencies,label:"Chọn",dense:"",solo:""},model:{value:t.formData.MaDonVi,callback:function(e){t.$set(t.formData,"MaDonVi",e)},expression:"formData.MaDonVi"}})],1):t._e()],1)],1)},j=[],W={props:[],data(){return{formData:{TieuDe:"",NoiDung:"",NguoiGuiThongBao:"",SdtNguoiGui:"",TinhTrang:"3",MaDonVi:""},rules:{required:t=>!!t||"Không được để trống.",phone:t=>{const e=/^(0?)(3[2-9]|5[6|8|9]|7[0|6-9]|8[0-6|8|9]|9[0-4|6-9])[0-9]{7}$/;let a;return a=!t||(e.test(t)||"Sai định dạng số điện thoại"),a}},toggleShowMenuDateSend:!1,dateSend:"",textDateSend:"",validForm:!1}},mounted(){},created(){},methods:{validateForm(){let t=this;return t.$refs.formSendNotifyRef.validate()},formatDate(t){if(!t)return null;const[e,a,i]=t.split("-");return`${i}/${a}/${e}`},parseDate(t){if(!t)return null;const[e,a,i]=t.split("/");return`${i}-${a.padStart(2,"0")}-${e.padStart(2,"0")}`}},computed:{...Object(d["b"])(["listAgencies"]),optionAgencies(){const t=this;let e=t.listAgencies;const a=e.map(t=>({text:t.tenGoi,value:{MaHanhChinh:t.maHanhChinh,TenGoi:t.tenGoi}}));return a}},watch:{dateSend(){const t=this;t.textDateSend=t.formatDate(t.dateSend)}}},J=W,Z=a("a844"),tt=Object(S["a"])(J,Y,j,!1,null,null,null),et=tt.exports;A()(tt,{VCol:M["a"],VDatePicker:I["a"],VForm:V["a"],VMenu:H["a"],VRow:E["a"],VSelect:$["a"],VTextField:O["a"],VTextarea:Z["a"]});var at={components:{Pagination:o["a"],FormSinhVien:U,DetailStudent:Q,FormSendNotify:et},mixins:[_["a"]],data(){return{selected:[],textSearch:"",headers:[{sortable:!1,text:"STT",align:"center",value:"stt",width:70},{sortable:!1,text:"Họ và tên",align:"left",value:"HoVaTen",class:"th-center"},{sortable:!1,text:"Mã sinh viên",align:"left",value:"MaSinhVien",class:"th-center",width:220},{sortable:!1,text:"Email",align:"left",value:"EmailVNU",class:"th-center",width:120},{sortable:!1,text:"Thao tác",align:"center",value:"thaotac",class:"th-center",width:200}],listStudent:[],itemsPerPage:20,loadingData:!1,pageCount:1,page:0,edittingForm:!1,dialogForm:!1,readonlyForm:!1,loadingAction:!1,total:1,dataEdit:{},dialogDelete:!1,idStudent:"",dialogFormDetails:!1,statusUpoadFile:"",optionStatusUpoadFile:[{text:"Sinh viên đã có ảnh",value:!0},{text:"Sinh viên chưa có ảnh",value:!1}],agenciesValue:"",checkAuthorViewStudent:"",checkAuthorImportFile:"",unitId:"",checkActionAddAndUpdate:"",toggleAdvanceSearch:!1,openDialogSendNotify:!1,donViSearch:"",dialogChoose:!1}},created(){const t=this;t.unitId=t.$cookies.get("UserInfo","").MaDonVi,t.getList("listAgencies","coquandonvi"),t.getList("listProvince","tinhthanh",{tinhTrang:"1"}),t.getList("listGender","gioitinh",{tinhTrang:"1"}),t.checkAuthorViewStudent=t.handleCheckAuthor(f["a"].XEM_SINH_VIEN_ALL,f["a"].XEM_SINH_VIEN_DV),t.checkActionAddAndUpdate=t.handleCheckAuthor(f["a"].THEM_MOI_SINH_VIEN_ALL,f["a"].THEM_MOI_SINH_VIEN_DV),t.checkAuthorImportFile=t.handleCheckAuthor(f["a"].THEM_NGUOI_DUNG,[]),t.checkAuthorViewStudent===g["a"].ALL?t.getListStudent():t.getListStudent({CoQuanDonVi_MaHanhChinh:t.unitId})},mounted(){},methods:{getListstudentFilter(t){const e=this;e.getListStudent({keyword:t?"":e.textSearch}),e.statusUpoadFile="",e.agenciesValue=""},getList(t,e,a){let i=this;const n={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""};let o={collectionName:e,state:t,data:a?{...n,...a}:n};i.$store.dispatch("collectionFilterInstore",o).then((function(t){})).catch((function(){}))},getListStudent(t){let e=this;e.loadingData=!0;const a={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""},i={collectionName:"sinhvien",data:t?{...a,...t}:a};e.$store.dispatch("collectionFilter",i).then((function(t){e.listStudent=t.content,e.total=e.listStudent.length,e.pageCount=t.totalPages,e.page=t.pageable.pageNumber,e.loadingData=!1})).catch((function(){e.loadingData=!1}))},handlechangeSelectedCheckFile(t){const e=this;e.getListStudent({HasImageAttach:t}),e.textSearch="",e.agenciesValue=""},handlechangeSelectedAgencies(t){const e=this;e.getListStudent({CoQuanDonVi_MaHanhChinh:t}),e.textSearch="",e.statusUpoadFile=""},editStudent(){const t=this;t.edittingForm=!0,t.dialogForm=!0},viewDetailStudent(t){const e=this,a={...t,GioiTinh:{MaMuc:t.GioiTinh.MaMuc,TenMuc:t.GioiTinh.TenMuc},NgaySinh:u()(t.NgaySinh).add(1,"d").valueOf()};e.dialogFormDetails=!0,e.dataEdit={...a}},handlechangePage(t){const e=this;e.getListStudent(t)},showModalForm(){const t=this;t.dialogForm=!0,t.edittingForm=!1},closeModalForm(){const t=this;t.dialogForm=!1},closeModalFormDetail(){const t=this;t.dataEdit={},t.dialogFormDetails=!1},selectAllToggle(t){const e=this;if(e.selected.length)e.selected=[];else{const a=t.items.filter(t=>!t.MainImage.FileUrl);e.selected=a}},handleFile(){const t=this;t.$refs.inputFileRef.click()},handleChangeFile(t){const e=this,a=t.target.files[0];if(a&&(a.name.includes(".xlsx")||a.name.includes(".xls"))){let t=new FormData;t.append("file",a),t.append("sheetAt",0),t.append("startCol",0),t.append("endCol",12),t.append("startRow",1),t.append("endRow",65e3),t.append("table","T_SinhVien");const i={type:"excel/import",payload:t};e.$store.dispatch("uploadFile",i).then((function(t){l.a.success("File được upload thành công, vui lòng đợi trong giây lát để xử lí")})).catch((function(){}))}else l.a.error("Sai định dạng file vui lòng xem lại")},handleSendRequieImg(){const t=this,e={type:"album/requireImage",payload:{maDonVi:t.donViSearch.value}};t.$store.dispatch("uploadFile",e).then((function(e){l.a.success("Gửi yêu cầu thành công"),t.dialogChoose=!1,t.donViSearch=""})).catch((function(){t.dialogChoose=!1}))},repuestAddImage(){const t=this;if("ALL"!==t.checkAuthorViewStudent)if(t.selected.length){t.$store.commit("SET_SHOWCONFIRM",!0);let e={auth:!1,title:"",message:"Bạn có muốn gửi thông báo cho những sinh viên này ?",button:{yes:"Có",no:"Không"},callback:()=>{const e=t.selected.map(t=>t.PrimKey).join(","),a={listNguoiDung:e},i={type:"album/requireImage",payload:a};t.$store.dispatch("uploadFile",i).then((function(t){l.a.success("Gửi yêu cầu thành công")})).catch((function(){}))}};t.$store.commit("SET_CONFIG_CONFIRM_DIALOG",e)}else{t.$store.commit("SET_SHOWCONFIRM",!0);let e={auth:!1,title:"",message:"Bạn có muốn gửi thông báo cho tất cả sinh viên cùng đơn vị với bạn ?",button:{yes:"Có",no:"Không"},callback:()=>{const e={type:"album/requireImage",payload:{abc:""}};t.$store.dispatch("uploadFile",e).then((function(t){l.a.success("Gửi yêu cầu thành công")})).catch((function(){l.a.success("Gửi yêu cầu thành công")}))}};t.$store.commit("SET_CONFIG_CONFIRM_DIALOG",e)}else if(t.selected.length){t.$store.commit("SET_SHOWCONFIRM",!0);let e={auth:!1,title:"",message:"Bạn có muốn gửi yêu cầu cho những sinh viên này ?",button:{yes:"Có",no:"Không"},callback:()=>{const e=t.selected.map(t=>t.PrimKey).join(","),a={listNguoiDung:e},i={type:"album/requireImage",payload:a};t.$store.dispatch("uploadFile",i).then((function(t){l.a.success("Gửi yêu cầu thành công")})).catch((function(){}))}};t.$store.commit("SET_CONFIG_CONFIRM_DIALOG",e)}else t.dialogChoose=!0},submitForm(){const t=this;if(t.$refs.formSinhVienBoRef.validateForm()){const e=t.$refs.formSinhVienBoRef.formData,a={...e,MaSinhVien:e.MaSinhVien.replace(/ +/g,""),NgaySinh:e.NgaySinh?u()(e.NgaySinh,"DD/MM/YYYY").valueOf():"",DiaChiThuongTru:{SoNhaChiTiet:e.DiaChiThuongTru,TinhThanh:e.TinhThanh,QuanHuyen:e.QuanHuyen,PhuongXa:e.PhuongXa},CoQuanDonVi:{...e.CoQuanDonVi},DanhBaLienLac:{SoDienThoai:e.SoDienThoai}};if(delete a.MainImageUrl,delete a.TinhThanh,delete a.QuanHuyen,delete a.PhuongXa,delete a.SoDienThoai,t.edittingForm){a.ThuMucAnh||(a.ThuMucAnh=[]);const e={payload:a,type:"sinhvien",id:t.dataEdit.PrimKey};t.$store.dispatch("editItemData",e).then((function(e){l.a.success("Cập nhật thành công"),t.dialogForm=!1,t.listStudent=t.listStudent.reduce((function(i,n){return t.dataEdit.PrimKey===n.PrimKey?[...i,{...a,PrimKey:t.dataEdit.PrimKey,MainImage:e.data.resp.MainImage,NgaySinh:u()(a.NgaySinh).subtract(1,"d")}]:[...i,n]}),[]),t.dataEdit={},t.dialogFormDetails=!1})).catch((function(){t.loadingData=!1,l.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}else{delete a.ThuMucAnh;const e={payload:a,type:"sinhvien"};t.$store.dispatch("createItemData",e).then((function(e){if(l.a.success("Thêm mới thành công"),t.dialogForm=!1,t.listStudent.length<t.itemsPerPage){const i=[...t.listStudent];i.push({...a,PrimKey:e.data.resp.PrimKey,MainImage:e.data.resp.MainImage}),t.listStudent=i,t.total=t.listStudent.length}})).catch((function(){t.loadingData=!1,l.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}}},handleSendNotify(){const t=this;if(t.$refs.formSendNotifyRef.validateForm()){const e=t.$refs.formSendNotifyRef.formData,a={...e,HenGioGui:u()(t.$refs.formSendNotifyRef._data.textDateSend,"DD/MM/YYYY").valueOf()};if(t.isAdmin?a.MaDonVi=a.MaDonVi.MaHanhChinh:(delete a.MaDonVi,a.NhanThongBao=t.selected.map(t=>({TypeNguoiNhan:t.type,MaDinhDanhNguoiNhan:t.MaDinhDanh}))),!t.edittingForm){const e={payload:a,type:"hangdoithongbao"};t.$store.dispatch("createItemData",e).then((function(e){l.a.success("Gủi thông báo thành công"),t.openDialogSendNotify=!1})).catch((function(t){}))}}}},computed:{...Object(d["b"])(["listAgencies"]),checkDisable(){const t=this,e=t.listStudent.filter(t=>!t.MainImage.FileUrl);return!e.length},optionAgencies(){const t=this,e=t.listAgencies.map(t=>({text:t.tenGoi,value:t.maHanhChinh}));return t.listAgencies.length?e:[]}}},it=at,nt=(a("68a8"),a("8fea")),ot=a("9e88"),st=a("3a2f"),lt=Object(S["a"])(it,i,n,!1,null,null,null);e["default"]=lt.exports;A()(lt,{VAutocomplete:x["a"],VBtn:b["a"],VCard:y["a"],VCardActions:N["a"],VCardText:N["b"],VCardTitle:N["c"],VCol:M["a"],VContainer:k["a"],VDataTable:nt["a"],VDialog:F["a"],VIcon:w["a"],VRow:E["a"],VSelect:$["a"],VSimpleCheckbox:ot["a"],VSpacer:L["a"],VTextField:O["a"],VToolbar:P["a"],VToolbarItems:B["a"],VToolbarTitle:B["b"],VTooltip:st["a"]})},"53cc":function(t,e,a){"use strict";a("38b6")},"66e5":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));const i={ALL:"ALL",ALONE:"ALONE"}},"68a8":function(t,e,a){"use strict";a("b90b")},a844:function(t,e,a){"use strict";a("1681");var i=a("8654"),n=a("58df");const o=Object(n["a"])(i["a"]);e["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},b90b:function(t,e,a){},f0ec:function(t,e,a){}}]);