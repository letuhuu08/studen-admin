(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75120fa0"],{"0e8f":function(t,e,a){"use strict";a("20f6");var n=a("e8f2");e["a"]=Object(n["a"])("flex")},7223:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticStyle:{float:"right"}},[a("v-btn",{staticClass:"btn-form mr-3 text-white",attrs:{small:"",color:"primary"},on:{click:function(e){t.toggleAdvanceSearch=!t.toggleAdvanceSearch}}},[t.toggleAdvanceSearch?a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant")]):a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant-plus")]),t._v("  Tìm kiếm ")],1),a("v-btn",{staticClass:"btn-form mx-0 text-white",attrs:{small:"",color:"primary"},on:{click:t.showModalForm}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-plus")]),t._v("  Thêm mới ")],1)],1)])],1),t.toggleAdvanceSearch?a("v-card",{staticClass:"mt-5",attrs:{outlined:"",elevation:"0"}},[a("v-form",{ref:"formSearchRef",attrs:{"lazy-validation":""}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"mb-2"},[t._v("Nhập từ khóa tìm kiếm:")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",dense:"",clearable:"","hide-details":"auto",placeholder:"Nhập từ khóa tìm kiếm"},on:{"click:clear":function(e){return t.getListCategoryNewsFilter("clear")}},model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}})],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"mb-2"},[t._v("Ngày tạo:")]),a("div",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputStartSend],clearable:"",placeholder:"Từ ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateStartSend=t.parseDate(t.textDateStartSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateStartSend,callback:function(e){t.textDateStartSend=e},expression:"textDateStartSend"}},"v-text-field",o,!1),n))]}}],null,!1,826405806),model:{value:t.toggleShowMenuStartDateSend,callback:function(e){t.toggleShowMenuStartDateSend=e},expression:"toggleShowMenuStartDateSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuStartDateSend=!1}},model:{value:t.dateStartSend,callback:function(e){t.dateStartSend=e},expression:"dateStartSend"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputEndSend],clearable:"",placeholder:"Đến ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateEndSend=t.parseDate(t.textDateEndSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateEndSend,callback:function(e){t.textDateEndSend=e},expression:"textDateEndSend"}},"v-text-field",o,!1),n))]}}],null,!1,2676572400),model:{value:t.toggleShowMenuEndDateSend,callback:function(e){t.toggleShowMenuEndDateSend=e},expression:"toggleShowMenuEndDateSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuEndDateSend=!1}},model:{value:t.dateEndSend,callback:function(e){t.dateEndSend=e},expression:"dateEndSend"}})],1)],1)],1)],1)])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"btn-form mx-0 text-white",attrs:{small:"",color:"primary"},on:{click:function(e){return t.getListCategoryNewsFilter("")}}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-magnify")]),t._v("  Tìm kiếm ")],1)],1)])],1)],1)],1)],1):t._e(),a("v-row",{staticClass:"my-0 mb-3"},[a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-data-table",{staticClass:"table-base mt-2",attrs:{headers:t.headers,items:t.listCategoryNews,"items-per-page":t.itemsPerPage,"item-key":"PrimKey","hide-default-footer":"","no-data-text":"Không có dữ liệu",loading:t.loadingData,"loading-text":"Đang tải... ","item-text":"name"},scopedSlots:t._u([{key:"item.stt",fn:function(e){var a=e.index;return[t._v(" "+t._s((t.page+1)*t.itemsPerPage-t.itemsPerPage+a+1)+" ")]}},{key:"item.tinhTrang",fn:function(e){var a=e.item;e.index;return[t._v(" "+t._s("2"===a.TinhTrang?"Hoạt động":"Không hoạt động")+" ")]}},{key:"item.thaotac",fn:function(e){var n=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"#2161b1",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.editCategoryNews(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[a("span",[t._v("Sửa")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ml-2",attrs:{color:"red",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.deleteCategoryNews(n)}}},"v-btn",s,!1),o),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-delete")])],1)]}}],null,!0)},[a("span",[t._v("Xóa")])])]}}])}),t.pageCount?a("pagination",{attrs:{pageInput:t.page,total:t.total,pageCount:t.pageCount},on:{"tiny:change-page":t.handlechangePage}}):t._e()],1)],1),t.dialogForm?a("div",[a("v-dialog",{attrs:{"max-width":"1200",persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[t.edittingForm?a("v-toolbar-title",[t._v("Cập nhật chuyên mục tin tức")]):t._e(),t.edittingForm?t._e():a("v-toolbar-title",[t._v("Thêm mới chuyên mục tin tức")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeModalForm}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("FormchuyenMucTinTuc",{ref:"formChuyenMucTinTucRef",attrs:{dataEdit:t.dataEdit,listCategoryNews:t.listCategoryNews},on:{emitDataGroup:t.handleEmitDataGroup}}),a("v-card-text",{staticClass:"px-2 py-2"},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.closeModalForm}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" Thoát ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.submitForm.apply(null,arguments)}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),t.edittingForm?a("span",[t._v("Cập nhật")]):a("span",[t._v("Thêm mới")])],1)],1)],1)],1)],1)],1):t._e(),t.dialogMenu?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialogMenu,callback:function(e){t.dialogMenu=e},expression:"dialogMenu"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[a("span",{staticClass:"text-h5"},[t._v("Phân quyền chuyên mục tin tức")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{staticClass:"px-0",attrs:{cols:"12",sm:"12",md:"12"}},[a("FormPhanQuyenChuyenMucTinTuc",{ref:"formPhanQuyenChuyenMucTinTucRef",attrs:{dataCategoryNews:t.listCategoryNews,dataSelectEditCategoryNews:t.dataSelectEditCategoryNews}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:function(e){t.dialogMenu=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" Thoát ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.handleDecentralization}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),a("span",[t._v("Phân quyền")])],1)],1)],1)],1):t._e()],1)},o=[],s=(a("13d5"),a("e20e")),i=a("854a"),r=a.n(i),l=a("c1df"),c=a.n(l),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formCategoryNewsRef",staticClass:"pa-3",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Mã chuyên mục: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"flex input-form",attrs:{rules:[t.rules.required],solo:"",disabled:!!t.dataEdit.MaChuyenMuc,label:"Nhập mã chuyên mục...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.MaChuyenMuc,callback:function(e){t.$set(t.formData,"MaChuyenMuc",e)},expression:"formData.MaChuyenMuc"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Tên chuyên mục: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"flex input-form",attrs:{rules:[t.rules.required],solo:"",label:"Nhập tên đầy đủ...",dense:"","hide-details":"auto",required:""},model:{value:t.formData.TenChuyenMuc,callback:function(e){t.$set(t.formData,"TenChuyenMuc",e)},expression:"formData.TenChuyenMuc"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Tên tiếng anh:")]),a("v-text-field",{staticClass:"flex input-form",attrs:{solo:"",label:"Nhập tên tiếng anh...",dense:"","hide-details":"auto"},model:{value:t.formData.TenTiengAnh,callback:function(e){t.$set(t.formData,"TenTiengAnh",e)},expression:"formData.TenTiengAnh"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Số thứ tự: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-text-field",{staticClass:"flex input-form",attrs:{rules:[t.rules.number,t.rules.required],solo:"",label:"Nhập số thứ tự...",dense:"","hide-details":"auto"},model:{value:t.formData.SoThuTu,callback:function(e){t.$set(t.formData,"SoThuTu",e)},expression:"formData.SoThuTu"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Nhóm quyền:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionGroups,label:"Chọn",dense:"",solo:"",multiple:"","hide-details":"auto","hide-no-data":""},model:{value:t.formData.PhanQuyenChuyenMuc,callback:function(e){t.$set(t.formData,"PhanQuyenChuyenMuc",e)},expression:"formData.PhanQuyenChuyenMuc"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Chuyên mục cha:")]),a("v-select",{staticClass:"flex input-form",attrs:{clearable:"",items:t.getListCategoryNews,label:"Chọn",dense:"",solo:"","hide-details":"auto","hide-no-data":""},model:{value:t.formData.MaChuyenMucCha,callback:function(e){t.$set(t.formData,"MaChuyenMucCha",e)},expression:"formData.MaChuyenMucCha"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Tình trạng:")]),a("v-select",{staticClass:"flex input-form",attrs:{items:t.optionStatus,label:"Chọn",dense:"",solo:"","hide-details":"auto","hide-no-data":""},model:{value:t.formData.TinhTrang,callback:function(e){t.$set(t.formData,"TinhTrang",e)},expression:"formData.TinhTrang"}})],1)],1)],1)},d=[],h={props:["dataEdit","listCategoryNews"],data(){var t;return{formData:{MaChuyenMuc:this.dataEdit.MaChuyenMuc||"",TenChuyenMuc:this.dataEdit.TenChuyenMuc||"",TenTiengAnh:this.dataEdit.TenTiengAnh||"",SoThuTu:this.dataEdit.SoThuTu||"",TinhTrang:this.dataEdit.TinhTrang||"",MaChuyenMucCha:this.dataEdit.MaChuyenMucCha||"",PhanQuyenChuyenMuc:null!==(t=this.dataEdit.ListQuyenChuyenMuc)&&void 0!==t&&t.length?this.dataEdit.ListQuyenChuyenMuc.map(t=>t.MaDinhDanh):[]},validForm:!1,optionStatus:[{text:"Hoạt động",value:"2"},{text:"Không hoạt động",value:"1"}],optionGroups:[],rules:{required:t=>!!t||"Không được để trống.",birthday:t=>{const e=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;return e.test(t)||"Định dạng ngày sinh là: ngày/tháng/năm"},number:t=>{const e=/^(?:[1-9]\d*|\d)$/;return e.test(t)||"Trường này phải nhập số"}}}},mounted(){},created(){const t=this;t.getGroup()},methods:{getGroup(){let t=this;const e={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"1",thamChieu_maMuc:""},a={collectionName:"nhomquyen",data:e};t.$store.dispatch("collectionFilter",a).then((function(e){const a=e.content;t.$emit("emitDataGroup",a),t.optionGroups=a.map(t=>({text:t.TenNhomQuyen,value:t.MaDinhDanh}))}))},validateForm(){let t=this;return t.$refs.formCategoryNewsRef.validate()}},computed:{getListCategoryNews(){var t;const e=this;let a=[];return a=null!==(t=e.dataEdit)&&void 0!==t&&t.PrimKey?e.listCategoryNews.reduce((function(t,a){var n;return(null===(n=e.dataEdit)||void 0===n?void 0:n.PrimKey)!==a.PrimKey&&t.push({text:a.TenChuyenMuc,value:a.MaChuyenMuc}),t}),[]):e.listCategoryNews.map(t=>({text:t.TenChuyenMuc,value:t.MaChuyenMuc})),a}}},m=h,g=(a("cf75c"),a("2877")),y=a("6544"),v=a.n(y),f=a("62ad"),p=a("4bd4"),C=a("0fd9"),D=a("b974"),M=a("8654"),S=Object(g["a"])(m,u,d,!1,null,null,null),x=S.exports;v()(S,{VCol:f["a"],VForm:p["a"],VRow:C["a"],VSelect:D["a"],VTextField:M["a"]});var T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formPhanNhomQuyenRef",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Chuyên mục tin tức: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"flex input-form",attrs:{items:t.listCategoryNews,label:"Chọn chuyên mục",chips:"",multiple:"",solo:"",rules:[t.rules.required],required:"","hide-details":"auto","hide-no-data":""},model:{value:t.formData.chuyenMuc,callback:function(e){t.$set(t.formData,"chuyenMuc",e)},expression:"formData.chuyenMuc"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Nhóm quyền: ")]),a("v-select",{staticClass:"flex input-form",attrs:{items:t.listGroup,chips:"",label:"Chọn nhóm quyền",multiple:"",solo:"",required:"","hide-details":"auto","hide-no-data":""},model:{value:t.formData.TenNhomQuyen,callback:function(e){t.$set(t.formData,"TenNhomQuyen",e)},expression:"formData.TenNhomQuyen"}})],1)],1)],1)},b=[],w={props:["dataCategoryNews","dataSelectEditCategoryNews"],data(){return{formData:{chuyenMuc:this.dataSelectEditCategoryNews||"",TenNhomQuyen:""},listGroup:[],listCategoryNews:[],validForm:!1,rules:{required:t=>!!t||"Không được để trống."}}},mounted(){},created(){const t=this;t.listCategoryNews=t.dataCategoryNews.map(t=>({text:t.TenChuyenMuc,value:t.MaDinhDanh})),t.getGroup()},methods:{validateForm(){let t=this;return t.$refs.formPhanNhomQuyenRef.validate()},getGroup(){let t=this;const e={page:0,size:200,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"1",thamChieu_maMuc:""},a={collectionName:"nhomquyen",data:e};t.$store.dispatch("collectionFilter",a).then((function(e){const a=e.content;t.listGroup=a.map(t=>({text:t.TenNhomQuyen,value:t.MaDinhDanh}))}))}}},N=w,_=Object(g["a"])(N,T,b,!1,null,"24828e00",null),k=_.exports;v()(_,{VCol:f["a"],VForm:p["a"],VRow:C["a"],VSelect:D["a"]});var F={components:{Pagination:s["a"],FormchuyenMucTinTuc:x,FormPhanQuyenChuyenMucTinTuc:k},data(){return{selected:[],textSearch:"",headers:[{sortable:!1,text:"STT",align:"center",value:"stt",width:70},{sortable:!1,text:"Mã chuyên mục",align:"left",value:"MaChuyenMuc",class:"th-center",width:200},{sortable:!1,text:"Tên chuyên mục",align:"left",value:"TenChuyenMuc",class:"th-center"},{sortable:!1,text:"Tên nhóm quyền",align:"left",value:"tenNhomQuyen",class:"th-center",width:250},{sortable:!1,text:"Tình trạng",align:"left",value:"tinhTrang",class:"th-center",width:120},{sortable:!1,text:"Thao tác",align:"center",value:"thaotac",class:"th-center",width:150}],toggleAdvanceSearch:!1,listCategoryNews:[],itemsPerPage:20,loadingData:!1,pageCount:1,page:0,edittingForm:!1,dialogForm:!1,readonlyForm:!1,loadingAction:!1,total:1,dataEdit:{},dialogMenu:!1,dataSelectEditCategoryNews:"",emitDataGroup:[],textDateStartSend:"",textDateEndSend:"",textNameSearch:"",toggleShowMenuStartDateSend:!1,dateStartSend:"",toggleShowMenuEndDateSend:!1,dateEndSend:"",rules:{date:t=>{const e=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;let a;return a=!t||(e.test(t)||"Định dạng ngày là: ngày/tháng/năm"),a},checkDateNow:t=>{const e=c()(new Date,"DD/MM/YYYY").valueOf(),a=c()(t,"DD/MM/YYYY").valueOf(),n=e-a>0;return!t||(n||"Ngày nhập không được sau ngày "+c()(new Date,"DD/MM/YYYY").format("DD/MM/YYYY"))},checkDateInputStartSend:t=>{if(this.textDateEndSend){const e=c()(this.textDateEndSend,"DD/MM/YYYY").valueOf(),a=c()(t,"DD/MM/YYYY").valueOf(),n=e-a>0;return!t||(n||"Ngày nhập không được sau ngày "+c()(this.textDateEndSend,"DD/MM/YYYY").format("DD/MM/YYYY"))}return!0},checkDateInputEndSend:t=>{if(this.textDateStartSend){const e=c()(this.textDateStartSend,"DD/MM/YYYY").valueOf(),a=c()(t,"DD/MM/YYYY").valueOf(),n=!(e-a>0);return n||"Ngày nhập không được sau ngày "+c()(this.textDateStartSend,"DD/MM/YYYY").format("DD/MM/YYYY")}return!0}}}},created(){const t=this;t.getLisCategoryNews()},mounted(){},watch:{dateStartSend(){const t=this;t.textDateStartSend=t.formatDate(t.dateStartSend)},dateEndSend(){const t=this;t.textDateEndSend=t.formatDate(t.dateEndSend)}},methods:{formatDate(t){if(!t)return null;const[e,a,n]=t.split("-");return`${n}/${a}/${e}`},parseDate(t){if(!t)return null;const[e,a,n]=t.split("/");return`${n}-${a.padStart(2,"0")}-${e.padStart(2,"0")}`},getListCategoryNewsFilter(t){const e=this;console.log("search",{keyword:t?"":e.textSearch,NgayTaoFrom:e.textDateStartSend?c()(e.textDateStartSend,"DD/MM/YYYY").valueOf():"",NgayTaoTo:e.textDateEndSend?c()(e.textDateEndSend,"DD/MM/YYYY").valueOf():""}),e.$refs.formSearchRef.validate()&&e.getLisCategoryNews({keyword:t?"":e.textSearch,NgayTaoFrom:e.textDateStartSend?c()(e.textDateStartSend,"DD/MM/YYYY").valueOf():0,NgayTaoTo:e.textDateEndSend?c()(e.textDateEndSend,"DD/MM/YYYY").valueOf():0})},getLisCategoryNews(t){let e=this;e.loadingData=!0;const a={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:"",NgayTaoFrom:0,NgayTaoTo:0},n={collectionName:"chuyenmuctintuc",data:t?{...a,...t}:a};e.$store.dispatch("collectionFilter",n).then((function(t){e.listCategoryNews=t.content.map(t=>({...t,tenNhomQuyen:t.ListQuyenChuyenMuc.map(t=>t.TenNhomQuyen).join(", ")})),e.total=e.listCategoryNews.length,e.pageCount=t.totalPages,e.loadingData=!1,e.page=t.pageable.pageNumber})).catch((function(){e.loadingData=!1}))},deleteCategoryNews(t){const e=this;e.dialogDelete=!1;const a={payload:t.PrimKey,type:"chuyenmuctintuc"};e.$store.commit("SET_SHOWCONFIRM",!0);let n={auth:!1,title:"Xóa loại chuyên mục tin tức",message:"Bạn có chắc chắn muốn xóa chuyên mục tin tức này",button:{yes:"Có",no:"Không"},callback:()=>{e.$store.dispatch("deleteItemData",a).then((function(a){r.a.success("Xóa thành công"),e.listCategoryNews=e.listCategoryNews.reduce((function(e,a){return t.PrimKey!==a.PrimKey&&e.push(a),e}),[]),e.total=e.listCategoryNews.length,console.log("res dele: ",a)})).catch((function(){e.loadingData=!1}))}};e.$store.commit("SET_CONFIG_CONFIRM_DIALOG",n)},editCategoryNews(t){const e=this,a={...t};e.edittingForm=!0,console.log("item edit: ",t),e.dataEdit=a,e.dialogForm=!0},handlechangePage(t){const e=this;e.getListCadres(t)},showModalForm(){const t=this;t.dialogForm=!0,t.edittingForm=!1},closeModalForm(){const t=this;t.dialogForm=!1,t.dataEdit={}},openDialogDecentralization(){const t=this;t.dialogMenu=!0,t.dataSelectEditCategoryNews=t.selected.length?t.selected.map(t=>t.MaDinhDanh):""},handleDecentralization(){const t=this;if(t.$refs.formPhanQuyenChuyenMucTinTucRef.validateForm()){const e=t.$refs.formPhanQuyenChuyenMucTinTucRef.formData,a=t.listCategoryNews.reduce((t,a)=>e.chuyenMuc.includes(a.MaDinhDanh)?[...t,{IdChuyenMuc:a.PrimKey,PhanQuyenChuyenMuc:e.TenNhomQuyen?e.TenNhomQuyen.map(t=>({MaDinhDanhNhomQuyen:t})):[]}]:t,[]),n={payload:a,type:"chuyenmuctintuc/many"};t.$store.dispatch("createItemData",n).then((function(e){r.a.success("Phân quyền thành công"),t.dialogMenu=!1,t.selected=[],t.getLisCategoryNews(),console.log("res post: ",e)})).catch((function(){t.loadingData=!1})),console.log("submit",e,n)}},handleEmitDataGroup(t){const e=this;e.emitDataGroup=t},handleChangeDate(){const t=this;t.textDateStartSend||t.textDateEndSend||t.getLisCategoryNews()},submitForm(){const t=this;if(t.$refs.formChuyenMucTinTucRef.validateForm()){const e=t.$refs.formChuyenMucTinTucRef.formData;if(e.MaChuyenMuc=e.MaChuyenMuc.replace(/ +/g,""),e.PhanQuyenChuyenMuc=t.emitDataGroup.reduce((t,a)=>e.PhanQuyenChuyenMuc.includes(a.MaDinhDanh)?[...t,{MaDinhDanhNhomQuyen:a.MaDinhDanh}]:t,[]),t.edittingForm){const a={payload:e,type:"chuyenmuctintuc",id:t.dataEdit.PrimKey};t.$store.dispatch("editItemData",a).then((function(a){r.a.success("Cập nhật thành công"),t.dialogForm=!1,t.listCategoryNews=t.listCategoryNews.reduce((function(n,o){return t.dataEdit.PrimKey===o.PrimKey?[...n,{...o,...e,tenNhomQuyen:a.data.resp.ListQuyenChuyenMuc.map(t=>t.TenNhomQuyen).join(", "),ListQuyenChuyenMuc:a.data.resp.ListQuyenChuyenMuc}]:[...n,o]}),[]),t.dataEdit={},console.log("res edit: ",a,t.dataEdit.PrimKey,t.listCategoryNews)})).catch((function(){t.loadingData=!1,r.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}else{const a={payload:e,type:"chuyenmuctintuc"};t.$store.dispatch("createItemData",a).then((function(a){if(r.a.success("Thêm mới thành công"),t.listCategoryNews.length<t.itemsPerPage){const n=[...t.listCategoryNews];n.push({...e,PrimKey:a.data.resp.PrimKey,tenNhomQuyen:a.data.resp.ListQuyenChuyenMuc.map(t=>t.TenNhomQuyen).join(", "),ListQuyenChuyenMuc:a.data.resp.ListQuyenChuyenMuc}),t.listCategoryNews=n}t.dialogForm=!1,t.total=t.listCategoryNews.length,console.log("res post: ",a)})).catch((function(){t.loadingData=!1,r.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}console.log("submit",e)}}}},Y=F,E=a("8336"),P=a("b0af"),Q=a("99d9"),$=a("a523"),V=a("8fea"),L=a("2e4b"),A=a("169a"),K=a("0e8f"),O=a("132d"),q=a("a722"),G=a("e449"),z=a("2fa4"),R=a("71d9"),I=a("2a7f"),j=a("3a2f"),H=Object(g["a"])(Y,n,o,!1,null,"5ab6637c",null);e["default"]=H.exports;v()(H,{VBtn:E["a"],VCard:P["a"],VCardActions:Q["a"],VCardText:Q["b"],VCol:f["a"],VContainer:$["a"],VDataTable:V["a"],VDatePicker:L["a"],VDialog:A["a"],VFlex:K["a"],VForm:p["a"],VIcon:O["a"],VLayout:q["a"],VMenu:G["a"],VRow:C["a"],VSpacer:z["a"],VTextField:M["a"],VToolbar:R["a"],VToolbarItems:I["a"],VToolbarTitle:I["b"],VTooltip:j["a"]})},"7b19":function(t,e,a){},cf75c:function(t,e,a){"use strict";a("7b19")}}]);