(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee2a7f38"],{"0e8f":function(t,e,a){"use strict";a("20f6");var i=a("e8f2");e["a"]=Object(i["a"])("flex")},1496:function(t,e,a){"use strict";a("75a2")},1681:function(t,e,a){},"23a7":function(t,e,a){"use strict";a("13d5"),a("5803");var i=a("2677"),n=a("cc20"),s=a("80d2"),l=a("d9bd"),o=a("d9f7");e["a"]=i["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>Object(s["I"])(t).every(t=>null!=t&&"object"===typeof t)}},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.multiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce((t,{size:e=0})=>t+e,0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(s["x"])(e,1024===this.base))},internalArrayValue(){return Object(s["I"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},text(){return this.isDirty||!this.persistentPlaceholder&&!this.isFocused&&this.hasLabel?this.internalArrayValue.map(t=>{const{name:e="",size:a=0}=t,i=this.truncateText(e);return this.showSize?`${i} (${Object(s["x"])(a,1024===this.base)})`:i}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&Object(l["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.multiple?t:t?[t]:[];Object(s["k"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.multiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((t,e)=>this.$createElement(n["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t])):[]},genControl(){const t=i["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(o["d"])(t.data.style,{display:"none"})),t},genInput(){const t=i["a"].options.methods.genInput.call(this);return t.data.attrs.multiple=this.multiple,delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((e,a)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[a],file:e,index:a}))}):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=i["a"].options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:()=>this.$refs.input.click()},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.multiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}…${t.slice(t.length-e)}`}}})},2677:function(t,e,a){"use strict";var i=a("8654");e["a"]=i["a"]},"30a7":function(t,e,a){"use strict";a("7c39")},"4e2b":function(t,e,a){"use strict";a("b3e9")},"4ff5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{staticClass:"mx-0",staticStyle:{position:"absolute",top:"30px",right:"20px"},attrs:{depressed:"",small:"",color:"primary"},on:{click:function(e){return t.showAdvanceSearch()}}},[t.advanceSearch?a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant")]):a("v-icon",{attrs:{size:"18"}},[t._v("mdi-filter-variant-plus")]),t._v("   Tìm kiếm ")],1),a("v-btn",{staticClass:"mx-0",staticStyle:{position:"absolute",top:"30px",right:"140px"},attrs:{depressed:"",small:"",color:"primary",disabled:!t.selected.length},on:{click:t.handleClickAnswerFeedbacks}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-comment-check-outline")]),t._v("   Trả lời ")],1),a("v-btn",{staticClass:"mx-0",staticStyle:{position:"absolute",top:"30px",right:"254px"},attrs:{depressed:"",small:"",color:"primary"},on:{click:t.handleClickExportFile}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-file-export")]),t._v("   Xuất tệp ")],1),t.advanceSearch?a("v-card",{attrs:{outlined:"",elevation:"0"}},[a("v-form",{ref:"formSearchRef",attrs:{"lazy-validation":""}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Trạng thái trả lời:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionStatus,dense:"",solo:"",clearable:"","hide-details":"auto","hide-no-data":""},on:{change:function(e){return t.handleChangeSelected("ST")}},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Tình trạng công khai:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionStatusPublic,dense:"",solo:"",clearable:"","hide-details":"auto","hide-no-data":""},on:{change:function(e){return t.handleChangeSelected("SP")}},model:{value:t.selectedStatusPublic,callback:function(e){t.selectedStatusPublic=e},expression:"selectedStatusPublic"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("div",{staticClass:"mb-2"},[t._v("Chủ đề góp ý:")]),a("v-select",{staticClass:"input-form",attrs:{items:t.optionTheme,dense:"",solo:"",clearable:"","hide-details":"auto","hide-no-data":""},on:{change:function(e){return t.handleChangeSelected()}},model:{value:t.selectedTheme,callback:function(e){t.selectedTheme=e},expression:"selectedTheme"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs6:""}},[a("div",{staticClass:"mb-2"},[t._v("Nội dung góp ý")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",placeholder:"Nhập nội dung...",dense:"","hide-details":"auto","hide-no-data":"",clearable:""},on:{input:t.handleChangeText},model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}})],1),a("v-flex",{attrs:{xs6:""}},[a("div",{staticClass:"mb-2"},[t._v("Người góp ý")]),a("v-text-field",{staticClass:"input-form",attrs:{solo:"",placeholder:"Nhập nội dung...",dense:"","hide-details":"auto","hide-no-data":"",clearable:""},on:{input:t.handleChangeText},model:{value:t.textNameSearch,callback:function(e){t.textNameSearch=e},expression:"textNameSearch"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"mb-2"},[t._v("Ngày gửi góp ý")]),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputStartSend],clearable:"",placeholder:"Từ ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateStartSend=t.parseDate(t.textDateStartSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateStartSend,callback:function(e){t.textDateStartSend=e},expression:"textDateStartSend"}},"v-text-field",n,!1),i))]}}],null,!1,1786055854),model:{value:t.toggleShowMenuStartDateSend,callback:function(e){t.toggleShowMenuStartDateSend=e},expression:"toggleShowMenuStartDateSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuStartDateSend=!1}},model:{value:t.dateStartSend,callback:function(e){t.dateStartSend=e},expression:"dateStartSend"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputEndSend],clearable:"",placeholder:"Đến ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateEndSend=t.parseDate(t.textDateEndSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateEndSend,callback:function(e){t.textDateEndSend=e},expression:"textDateEndSend"}},"v-text-field",n,!1),i))]}}],null,!1,885171312),model:{value:t.toggleShowMenuEndDateSend,callback:function(e){t.toggleShowMenuEndDateSend=e},expression:"toggleShowMenuEndDateSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuEndDateSend=!1}},model:{value:t.dateEndSend,callback:function(e){t.dateEndSend=e},expression:"dateEndSend"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"mb-2"},[t._v("Ngày trả lời góp ý")]),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputStartSend],clearable:"",placeholder:"Từ ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateStartAnswerSend=t.parseDate(t.textDateStartAnswerSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateStartAnswerSend,callback:function(e){t.textDateStartAnswerSend=e},expression:"textDateStartAnswerSend"}},"v-text-field",n,!1),i))]}}],null,!1,2710981810),model:{value:t.toggleShowMenuStartDateAnswerSend,callback:function(e){t.toggleShowMenuStartDateAnswerSend=e},expression:"toggleShowMenuStartDateAnswerSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuStartDateAnswerSend=!1}},model:{value:t.dateStartAnswerSend,callback:function(e){t.dateStartAnswerSend=e},expression:"dateStartAnswerSend"}})],1)],1),a("v-flex",{attrs:{xs6:""}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"flex input-form",attrs:{rules:[t.rules.date,t.rules.checkDateNow,t.rules.checkDateInputEndSend],clearable:"",placeholder:"Đến ngày...","persistent-hint":"","prepend-icon":"",solo:"",dense:"","hide-details":"auto","hide-no-data":""},on:{blur:function(e){t.dateEndAnswerSend=t.parseDate(t.textDateEndAnswerSend)},input:function(e){return t.handleChangeDate()}},model:{value:t.textDateEndAnswerSend,callback:function(e){t.textDateEndAnswerSend=e},expression:"textDateEndAnswerSend"}},"v-text-field",n,!1),i))]}}],null,!1,545937644),model:{value:t.toggleShowMenuEndDateAnswerSend,callback:function(e){t.toggleShowMenuEndDateAnswerSend=e},expression:"toggleShowMenuEndDateAnswerSend"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.toggleShowMenuEndDateAnswerSend=!1}},model:{value:t.dateEndAnswerSend,callback:function(e){t.dateEndAnswerSend=e},expression:"dateEndAnswerSend"}})],1)],1)],1)],1),a("v-col",{staticClass:"flex",staticStyle:{"text-align":"right"},attrs:{cols:"12"}},[a("v-btn",{staticClass:"mx-0",attrs:{depressed:"",small:"",color:"primary"},on:{click:function(e){return t.getListFeedbackFilter()}}},[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-magnify")]),t._v("   Tìm kiếm ")],1)],1)],1)],1)],1)],1):t._e(),a("v-row",{staticClass:"my-0 mb-3"},[a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("v-data-table",{staticClass:"table-base mt-0 pt-0",attrs:{headers:t.headers,items:t.listFeedback,"items-per-page":t.itemsPerPage,"item-key":"PrimKey","hide-default-footer":"","no-data-text":"Không có dữ liệu",loading:t.loadingData,"loading-text":"Đang tải... ","item-text":"name"},on:{"toggle-select-all":t.selectAllToggle},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var i=e.item,n=e.isSelected,s=e.select;return["Đã trả lời"!==i.TinhTrang.TenMuc?a("v-simple-checkbox",{attrs:{value:n,ripple:!1},on:{input:function(t){return s(t)}}}):t._e()]}},{key:"item.stt",fn:function(e){var a=e.index;return[t._v(" "+t._s((t.page+1)*t.itemsPerPage-t.itemsPerPage+a+1)+" ")]}},{key:"item.ChuDe",fn:function(e){var i=e.item;return[a("span",[t._v(t._s(i.ChuDe.TenMuc))])]}},{key:"item.TinhTrang",fn:function(e){var i=e.item;return[a("span",{style:"2"==i.TinhTrang.MaMuc?"color: red":""},[t._v(t._s(i.TinhTrang.TenMuc))])]}},{key:"item.CongKhai",fn:function(e){var i=e.item;return[a("span",{style:"0"==i.CongKhai?"color: red":"color: green"},[t._v(t._s("0"==i.CongKhai?"Không công khai":"Công khai"))])]}},{key:"item.TimeCreate",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.dateLocale(a.TimeCreate))+" ")]}},{key:"item.thaotac",fn:function(e){var i=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-2",attrs:{color:"#2161b1",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.editFeedback(i)}}},"v-btn",s,!1),n),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-clipboard-text")])],1)]}}],null,!0)},[a("span",[t._v("Chi tiết góp ý, trả lời")])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t.pageCount?a("pagination",{attrs:{pageInput:t.page,total:t.total,pageCount:t.pageCount},on:{"tiny:change-page":t.handlechangePage}}):t._e()],1)],1),t.dialogForm?a("div",[a("v-dialog",{attrs:{persistent:""},model:{value:t.dialogForm,callback:function(e){t.dialogForm=e},expression:"dialogForm"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[t.edittingForm?a("v-toolbar-title",[t._v("Chi tiết góp ý, trả lời")]):t._e(),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeModalForm}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("DetailsFeedback",{attrs:{dataEdit:t.dataEdit}}),a("v-card-text",{staticClass:"px-2 py-2",staticStyle:{background:"#eee"}},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.closeModalForm}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){t.dialogFormAnswer=!0}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),t.edittingForm?a("span",[t._v("Cập nhật câu trả lời")]):t._e()],1)],1)],1)],1)],1)],1):t._e(),t.dialogFormAnswer?a("div",[a("v-dialog",{attrs:{"max-width":"1000",persistent:""},model:{value:t.dialogFormAnswer,callback:function(e){t.dialogFormAnswer=e},expression:"dialogFormAnswer"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[t.edittingForm?a("v-toolbar-title",[t._v("Trả lời góp ý")]):t._e(),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:t.closeModalAnswer}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("FormGopY",{ref:"formGopYRef",attrs:{dataEdit:t.dataEdit},on:{emitDataFile:t.handleEmitDataFile}}),a("v-card-text",{staticClass:"px-2 py-2"},[a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.closeModalAnswer}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.submitForm.apply(null,arguments)}}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),t.edittingForm?a("span",[t._v("Cập nhật")]):t._e()],1)],1)],1)],1)],1)],1):t._e(),t.dialogAnswerFeedBacks?a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialogAnswerFeedBacks,callback:function(e){t.dialogAnswerFeedBacks=e},expression:"dialogAnswerFeedBacks"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Trả lời góp ý")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{small:"",icon:"",dark:""},on:{click:function(e){t.dialogAnswerFeedBacks=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("FormAnswerFeedbacks",{ref:"formAnswerFeedbacksRef",attrs:{dataProps:t.selected},on:{emitDataFile:t.handleEmitDataFile}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.handleCloseDialogAnswersFeedBack}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" "+t._s(t.$t("basic.thoat"))+" ")],1),t.readonlyForm?t._e():a("v-btn",{staticClass:"mr-2",attrs:{small:"",depressed:"",color:"primary",loading:t.loadingAction,disabled:t.loadingAction},on:{click:t.handleAnswerFeedbacks}},[a("v-icon",{attrs:{left:"",dark:"",size:"18"}},[t._v(" mdi-file-document-plus-outline ")]),a("span",[t._v("Trả lời")])],1)],1)],1)],1):t._e()],1)},n=[],s=(a("13d5"),a("e20e")),l=a("854a"),o=a.n(l),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formGopyRef",staticClass:"pa-4",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"mb-2"},[a("span",{staticClass:"titleText"},[t._v("Nội dung góp ý: ")]),a("span",[t._v(t._s(t.formData.NoiDung))])])])],1),a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v(" Tình trạng công khai: "),a("span",{staticStyle:{color:"red"}},[t._v("*")])]),a("v-select",{staticClass:"flex input-form",attrs:{rules:[t.rules.required],items:t.optionStatus,label:"Chọn",dense:"",solo:"","hide-details":"auto",required:""},model:{value:t.formData.CongKhai,callback:function(e){t.$set(t.formData,"CongKhai",e)},expression:"formData.CongKhai"}})],1),a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Nội dung trả lời:")]),a("v-textarea",{staticClass:"flex input-form",attrs:{solo:"",label:"Nhập câu trả lời...","hide-details":"auto",required:"",rows:"7"},model:{value:t.formData.TraLoi,callback:function(e){t.$set(t.formData,"TraLoi",e)},expression:"formData.TraLoi"}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Tệp đính kèm câu trả lời:")]),t.formData.fileAnswerUrl?a("div",{staticClass:"mb-2"},[a("span",{staticStyle:{color:"#2161b1","text-decoration":"underline",cursor:"pointer"},on:{click:t.handleViewFile}},[t._v(" "+t._s(t._f("fileName")(t.formData.fileAnswerUrl))+" ")]),a("v-tooltip",{staticClass:"ml-2",attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"red",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.handleDeleteFile(t.item)}}},"v-btn",n,!1),i),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-delete")])],1)]}}],null,!1,3631360366)},[a("span",[t._v("Xóa")])])],1):t._e(),a("v-file-input",{staticClass:"flex input-form",attrs:{"prepend-icon":"","prepend-inner-icon":"mdi-cloud-upload-outline",label:"Chọn tệp đính kèm...",solo:"",dense:""},on:{change:t.handleChangeFile}})],1)],1),a("v-dialog",{attrs:{persistent:"",fullscreen:""},model:{value:t.showDiglogFile,callback:function(e){t.showDiglogFile=e},expression:"showDiglogFile"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3"},[a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showDiglogFile=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex justify-center"},[a("img",{staticClass:"style-img",attrs:{src:t.formData.fileAnswerUrl,alt:""}})])])],1)],1)],1)],1)],1)],1)},c=[],d={props:["dataEdit"],data(){var t,e,a,i,n;return{formData:{TinhTrang:this.dataEdit.TinhTrang||"",SinhVien:this.dataEdit.SinhVienMdd||"",NguoiTraLoi:(null===(t=this.dataEdit.TraLoi)||void 0===t?void 0:t.NguoiTraLoi)||"",TraLoi:(null===(e=this.dataEdit.TraLoi)||void 0===e?void 0:e.NoiDung)||"",NoiDung:this.dataEdit.NoiDung||"",fileFeedbackName:(null===(a=this.dataEdit.Attachment)||void 0===a?void 0:a.FileName)||"",fileFeedbackUrl:(null===(i=this.dataEdit.Attachment)||void 0===i?void 0:i.FileUrl)||"",fileAnswerUrl:(null===(n=this.dataEdit.TraLoi.Attachment)||void 0===n?void 0:n.FileUrl)||"",CongKhai:this.dataEdit.CongKhai||""},optionStatus:[{text:"Công khai",value:"1"},{text:"Không công khai",value:"0"}],showDiglogFile:!1,optionCadres:[],optionStudnets:[],validForm:!1,checkFileImgAnswer:!0,typeFile:"",hideBtnDeleteFile:!0,rules:{required:t=>!!t||"Không được để trống.",file:t=>!t||t.size<2e6||"Kich thước fle nhỏ hơn 2MB"}}},mounted(){},created(){var t,e;const a=this,i=/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i;a.checkFileImgAnswer=i.test(null===(t=a.dataEdit.TraLoi.Attachment)||void 0===t?void 0:t.FileName),a.hideBtnDeleteFile=!(null===(e=a.dataEdit.TraLoi.Attachment)||void 0===e||!e.FileName)},methods:{getList(t){let e=this;const a={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""},i={collectionName:t,data:a};e.$store.dispatch("collectionFilter",i).then((function(a){const i=a.content;"canbo"===t?e.optionCadres=i.map(t=>({text:t.HoVaTen,value:t.MaDinhDanh})):e.optionStudnets=i.map(t=>({text:t.HoVaTen,value:t.MaDinhDanh}))}))},validateForm(){let t=this;return t.$refs.formGopyRef.validate()},handleChangeFile(t){const e=this;e.$emit("emitDataFile",t)},handleViewFile(t){const e=this;e.showDiglogFile=!0,e.typeFile=t},handleDeleteFile(){const t=this;o.a.success("Xóa thành công"),t.$emit("emitDataFile","delete file"),t.hideBtnDeleteFile=!1}},filters:{fileName:function(t){if(!t)return"";let e=t.toString().split("/");return e[e.length-1]}}},u=d,h=(a("30a7"),a("2877")),p=a("6544"),m=a.n(p),g=a("8336"),v=a("b0af"),f=a("99d9"),S=a("62ad"),x=a("a523"),D=a("169a"),b=a("23a7"),w=a("4bd4"),y=a("132d"),k=a("0fd9"),F=a("b974"),C=a("2fa4"),T=a("a844"),_=a("71d9"),A=a("2a7f"),E=a("3a2f"),M=Object(h["a"])(u,r,c,!1,null,null,null),V=M.exports;m()(M,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VCol:S["a"],VContainer:x["a"],VDialog:D["a"],VFileInput:b["a"],VForm:w["a"],VIcon:y["a"],VRow:k["a"],VSelect:F["a"],VSpacer:C["a"],VTextarea:T["a"],VToolbar:_["a"],VToolbarItems:A["a"],VTooltip:E["a"]});var N=a("c1df"),Y=a.n(N),L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"container-profile"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""}},[a("div",{staticClass:"title-card pl-5"},[t._v("Nội dung thắc mắc, góp ý:")]),a("div",{staticClass:"px-3 py-3"},[a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Nội dung:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dataDetailsFeedback.NoiDung)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Tệp đính kèm:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[a("span",{staticStyle:{color:"#2161b1","text-decoration":"underline",cursor:"pointer"},on:{click:function(e){return t.showAttack(t.dataDetailsFeedback.fileFeedbackUrl)}}},[t._v(" "+t._s(t.dataDetailsFeedback.fileFeedbackName)+" ")])])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Chủ đề:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dataDetailsFeedback.ChuDe)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Ngày gửi:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dateLocale(t.dataDetailsFeedback.TimeCreate))+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Người gửi:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.getStudent)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Trạng thái trả lời:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dataDetailsFeedback.TinhTrang)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Tình trạng công khai:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.getStatusPublic)+" ")])])])])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticStyle:{width:"100%",height:"100%"},attrs:{flat:""}},[a("div",{staticClass:"title-card pl-4"},[t._v("Nội dung trả lời:")]),a("div",{staticClass:"px-2 py-2"},[a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Người trả lời:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dataDetailsFeedback.NguoiTraLoi)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Ngày trả lời:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dateLocale(t.dataDetailsFeedback.NgayTraLoi))+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Nội dung trả lời:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t._v(" "+t._s(t.dataDetailsFeedback.NoiDungTraLoi)+" ")])]),a("div",{staticClass:"d-flex px-2 py-2 wrap-content-item"},[a("div",{staticStyle:{flex:"1","max-width":"150px","font-weight":"500"}},[t._v("Tệp đính kèm:")]),a("div",{staticClass:"text-answer",staticStyle:{flex:"2"}},[t.dataDetailsFeedback.fileAnswerUrl?a("span",{staticStyle:{color:"#2161b1","text-decoration":"underline",cursor:"pointer"},on:{click:function(e){return t.showAttack(t.dataDetailsFeedback.fileAnswerUrl)}}},[t._v(" "+t._s(t._f("fileName")(t.dataDetailsFeedback.fileAnswerUrl))+" ")]):t._e()])])])])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"1000"},model:{value:t.dialogAttack,callback:function(e){t.dialogAttack=e},expression:"dialogAttack"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3",attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Tệp đính kèm")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialogAttack=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-card-text",{staticClass:"px-2 py-2",staticStyle:{background:"#eee"}},[a("img",{staticClass:"style-img",attrs:{src:t.urlAttack,alt:""}}),a("v-card-actions",{staticClass:"justify-center my-4"},[a("v-btn",{staticClass:"white--text mr-2",attrs:{small:"",depressed:"",color:"red"},on:{click:function(e){t.dialogAttack=!1}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-close ")]),t._v(" Thoát ")],1)],1)],1)],1)],1)],1)},$=[],I={props:["dataEdit"],data(){var t,e,a;return{dataDetailsFeedback:{ChuDe:this.dataEdit.ChuDe.TenMuc||"",fileFeedbackName:(null===(t=this.dataEdit.Attachment)||void 0===t?void 0:t.FileName)||"",fileFeedbackUrl:(null===(e=this.dataEdit.Attachment)||void 0===e?void 0:e.FileUrl)||"",fileAnswerUrl:(null===(a=this.dataEdit.TraLoi.Attachment)||void 0===a?void 0:a.FileUrl)||"",TinhTrang:this.dataEdit.TinhTrang.TenMuc||"",CongKhai:this.dataEdit.CongKhai||"",NoiDung:this.dataEdit.NoiDung||"",NoiDungTraLoi:this.dataEdit.TraLoi.NoiDung||"",NguoiTraLoi:this.dataEdit.TraLoi.NguoiTraLoi||"",TimeCreate:this.dataEdit.TimeCreate||"",NgayTraLoi:this.dataEdit.TraLoi.NgayTraLoi||""},listStudent:[],dialogAttack:!1,urlAttack:""}},mounted(){},created(){const t=this;t.getListData()},methods:{getListData(){let t=this;t.loadingData=!0;const e={page:0,size:1,SinhVienMdd:t.dataEdit.SinhVienMdd,orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""},a={collectionName:"sinhvien",data:e};t.$store.dispatch("collectionFilter",a).then((function(e){t.listStudent=e.content})).catch((function(){}))},showAttack(t){let e=this;e.urlAttack=t,e.dialogAttack=!0},dateLocale(t){if(!t)return"";let e=new Date(t);return`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`}},computed:{getDateAnswer(){const t=this;if(t.dataEdit.TraLoi.NgayTraLoi){const e=Y()(t.dataEdit.TraLoi.NgayTraLoi).format("DD/MM/YYYY");return e}return null},getStudent(){const t=this,e=t.listStudent.filter(e=>e.MaDinhDanh===t.dataEdit.SinhVienMdd);return e.length?e[0].HoVaTen:""},getStatusPublic(){const t=this;let e="Không công khai";return t.dataEdit.CongKhai?"Công khai":e}},filters:{fileName:function(t){if(!t)return"";let e=t.toString().split("/");return e[e.length-1]}}},P=I,z=(a("d9ac"),Object(h["a"])(P,L,$,!1,null,"5860ce74",null)),K=z.exports;m()(z,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCol:S["a"],VContainer:x["a"],VDialog:D["a"],VIcon:y["a"],VRow:k["a"],VSpacer:C["a"],VToolbar:_["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"]});var O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formAnswerFeedbacksRef",staticClass:"pa-4",attrs:{"lazy-validation":""},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"mb-2 flex"},[a("div",{staticClass:"mb-2 titleText"},[t._v("Nội dung góp ý:")]),a("div",{staticClass:"custom-block-text"},[t._v(t._s(t.textFeedback))])])])],1),a("v-row",[a("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Nội dung trả lời:")]),a("v-textarea",{staticClass:"flex input-form",attrs:{solo:"",label:"Nhập câu trả lời...","hide-details":"auto",required:"",rows:"7"},model:{value:t.formData.TraLoi,callback:function(e){t.$set(t.formData,"TraLoi",e)},expression:"formData.TraLoi"}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"titleText mb-2"},[t._v("Tệp đính kèm câu trả lời:")]),t.formData.fileAnswerUrl?a("div",{staticClass:"mb-2"},[a("span",{staticStyle:{color:"#2161b1","text-decoration":"underline",cursor:"pointer"},on:{click:t.handleViewFile}},[t._v(" "+t._s(t._f("fileName")(t.formData.fileAnswerUrl))+" ")]),a("v-tooltip",{staticClass:"ml-2",attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"red",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.handleDeleteFile(t.item)}}},"v-btn",n,!1),i),[a("v-icon",{attrs:{size:"18"}},[t._v("mdi-delete")])],1)]}}],null,!1,3631360366)},[a("span",[t._v("Xóa")])])],1):t._e(),a("v-file-input",{staticClass:"flex input-form",attrs:{"prepend-icon":"","prepend-inner-icon":"mdi-cloud-upload-outline",label:"Chọn tệp đính kèm...",solo:"",dense:""},on:{change:t.handleChangeFile}})],1)],1),a("v-dialog",{attrs:{persistent:"",fullscreen:""},model:{value:t.showDiglogFile,callback:function(e){t.showDiglogFile=e},expression:"showDiglogFile"}},[a("v-card",[a("v-toolbar",{staticClass:"px-3"},[a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.showDiglogFile=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("div",{staticClass:"d-flex justify-center"},[a("img",{staticClass:"style-img",attrs:{src:t.formData.fileAnswerUrl,alt:""}})])])],1)],1)],1)],1)],1)],1)},B=[],G={props:["dataProps"],data(){return{formData:{TraLoi:"",NoiDung:"",fileFeedbackName:"",fileFeedbackUrl:"",fileAnswerUrl:"",CongKhai:"0"},textFeedback:"",showDiglogFile:!1,optionCadres:[],optionStudnets:[],validForm:!1,checkFileImgAnswer:!0,typeFile:"",hideBtnDeleteFile:!0,rules:{required:t=>!!t||"Không được để trống.",file:t=>!t||t.size<2e6||"Kich thước fle nhỏ hơn 2MB"}}},mounted(){const t=this,e=t.$el.querySelector(".custom-block-text");t.$nextTick(()=>{e.offsetHeight<165&&Object.assign(e.style,{overflowY:"auto"})})},created(){const t=this;t.textFeedback=t.dataProps.map(t=>t.NoiDung).join(", ")},methods:{validateForm(){let t=this;return t.$refs.formAnswerFeedbacksRef.validate()},handleChangeFile(t){const e=this;e.$emit("emitDataFile",t)},handleViewFile(t){const e=this;e.showDiglogFile=!0,e.typeFile=t},handleDeleteFile(){const t=this;o.a.success("Xóa thành công"),t.$emit("emitDataFile","delete file"),t.hideBtnDeleteFile=!1}},filters:{fileName:function(t){if(!t)return"";let e=t.toString().split("/");return e[e.length-1]}}},U=G,j=(a("1496"),Object(h["a"])(U,O,B,!1,null,null,null)),R=j.exports;m()(j,{VBtn:g["a"],VCard:v["a"],VCardText:f["b"],VCol:S["a"],VContainer:x["a"],VDialog:D["a"],VFileInput:b["a"],VForm:w["a"],VIcon:y["a"],VRow:k["a"],VSpacer:C["a"],VTextarea:T["a"],VToolbar:_["a"],VToolbarItems:A["a"],VTooltip:E["a"]});var H={components:{Pagination:s["a"],FormGopY:V,DetailsFeedback:K,FormAnswerFeedbacks:R},data(){return{dialogAnswerFeedBacks:!1,advanceSearch:!1,selected:[],textSearch:"",headers:[{sortable:!1,text:"STT",align:"center",value:"stt",width:70},{sortable:!1,text:"Chủ đề",align:"left",value:"ChuDe",class:"th-center",width:150},{sortable:!1,text:"Nội dung",align:"left",value:"NoiDung",class:"th-center"},{sortable:!1,text:"Ngày gửi",align:"center",value:"TimeCreate",class:"th-center",width:150},{sortable:!1,text:"Trạng thái trả lời",align:"left",value:"TinhTrang",class:"th-center",width:150},{sortable:!1,text:"Công khai",align:"left",value:"CongKhai",class:"th-center",width:150},{sortable:!1,text:"Thao tác",align:"center",value:"thaotac",class:"th-center",width:150}],listFeedback:[],itemsPerPage:20,loadingData:!1,pageCount:1,page:0,edittingForm:!1,dialogForm:!1,readonlyForm:!1,loadingAction:!1,total:1,dataEdit:{},dialogDelete:!1,idFeedback:"",emitDataFile:null,optionStatus:[{text:"Chưa trả lời",value:"2"},{text:"Đã trả lời",value:"3"}],optionStatusPublic:[{text:"Công khai",value:"1"},{text:"Không công khai",value:"0"}],optionTheme:[],textDateStartSend:"",textDateEndSend:"",selectedStatus:"",selectedStatusPublic:"",selectedTheme:"",dialogFormAnswer:!1,rules:{date:t=>{const e=/^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/;let a;return a=!t||(e.test(t)||"Định dạng ngày là: ngày/tháng/năm"),a},checkDateNow:t=>{const e=Y()(new Date,"DD/MM/YYYY").valueOf(),a=Y()(t,"DD/MM/YYYY").valueOf(),i=e-a>0;return!t||(i||"Ngày nhập không được sau ngày "+Y()(new Date,"DD/MM/YYYY").format("DD/MM/YYYY"))},checkDateInputStartSend:t=>{if(this.textDateEndSend){const e=Y()(this.textDateEndSend,"DD/MM/YYYY").valueOf(),a=Y()(t,"DD/MM/YYYY").valueOf(),i=e-a>0;return!t||(i||"Ngày nhập không được sau ngày "+Y()(this.textDateEndSend,"DD/MM/YYYY").format("DD/MM/YYYY"))}return!0},checkDateInputEndSend:t=>{if(this.textDateStartSend){const e=Y()(this.textDateStartSend,"DD/MM/YYYY").valueOf(),a=Y()(t,"DD/MM/YYYY").valueOf(),i=!(e-a>0);return!t||(i||"Ngày nhập không được sau ngày "+Y()(this.textDateStartSend,"DD/MM/YYYY").format("DD/MM/YYYY"))}return!0}},textNameSearch:"",toggleShowMenuStartDateSend:!1,dateStartSend:"",toggleShowMenuEndDateSend:!1,dateEndSend:"",timeOut:null,toggleShowMenuStartDateAnswerSend:"",textDateStartAnswerSend:"",dateStartAnswerSend:"",toggleShowMenuEndDateAnswerSend:"",textDateEndAnswerSend:"",dateEndAnswerSend:""}},created(){const t=this;t.getListData(),t.getListData({param:{size:1e3,danhMuc_maDanhMuc:"CHUDEGOPY"},type:"dulieudanhmuc"})},mounted(){},methods:{showAdvanceSearch(){let t=this;t.advanceSearch=!t.advanceSearch},getListFeedbackFilter(){const t=this;console.log("date: ",t.textDateStartSend,t.textDateEndSend);let e={};t.textDateStartSend&&t.textDateEndSend?e={NgayGuiFrom:Y()(t.textDateStartSend,"DD/MM/YYYY").valueOf(),NgayGuiTo:Y()(t.textDateEndSend,"DD/MM/YYYY").valueOf()}:t.textDateStartSend?e={NgayGuiFrom:Y()(t.textDateStartSend,"DD/MM/YYYY").valueOf()}:t.textDateEndSend&&(e={NgayGuiTo:Y()(t.textDateEndSend,"DD/MM/YYYY").valueOf()}),t.textDateStartAnswerSend&&t.textDateEndAnswerSend?e={NgayTraLoiFrom:Y()(t.textDateStartAnswerSend,"DD/MM/YYYY").valueOf(),NgayTraLoiTo:Y()(t.textDateEndAnswerSend,"DD/MM/YYYY").valueOf()}:t.textDateStartAnswerSend?e={NgayTraLoiFrom:Y()(t.textDateStartAnswerSend,"DD/MM/YYYY").valueOf()}:t.textDateEndAnswerSend&&(e={NgayTraLoiTo:Y()(t.textDateEndAnswerSend,"DD/MM/YYYY").valueOf()}),t.$refs.formSearchRef.validate()&&t.getListData({param:{keyword:t.textSearch,...e,SinhVienHoTen:t.textNameSearch}}),t.selectedStatus="",t.selectedStatusPublic="",t.selectedTheme=""},getListData(t){let e=this;e.loadingData=!0;const a={page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""},i={collectionName:null!==t&&void 0!==t&&t.type?null===t||void 0===t?void 0:t.type:"gopy",data:null!==t&&void 0!==t&&t.param?{...a,...null===t||void 0===t?void 0:t.param}:a};e.$store.dispatch("collectionFilter",i).then((function(a){if(null!==t&&void 0!==t&&t.type)e.optionTheme=a.content.map(t=>({text:t.tenMuc,value:t.maMuc}));else{const t=a.content.filter(t=>t.TraLoi.NoiDung),i=a.content.filter(t=>!t.TraLoi.NoiDung);e.listFeedback=[...i,...t],console.log("res: ",e.listFeedback),e.total=e.listFeedback.length,e.page=a.pageable.pageNumber,e.pageCount=a.totalPages,e.loadingData=!1}})).catch((function(){e.loadingData=!1}))},openDialogDeleteItem(t){const e=this;console.log("id delete: ",t.PrimKey),e.dialogDelete=!0,e.idFeedback=t.PrimKey},deleteFeedback(){const t=this;t.dialogDelete=!1;const e={payload:t.idFeedback,type:"baiviettintuc"};t.$store.dispatch("deleteItemData",e).then((function(e){o.a.success("Xóa thành công"),t.listFeedback=t.listFeedback.reduce((function(e,a){return t.idFeedback!==a.PrimKey&&e.push(a),e}),[]),t.total=t.listFeedback.length,console.log("res dele: ",e)})).catch((function(){t.loadingData=!1}))},editFeedback(t){const e=this,a={...t};e.edittingForm=!0,e.dataEdit=a,e.dialogForm=!0},handlechangePage(t){const e=this;e.getListData({param:{...t}})},handleClickAnswerFeedbacks(){const t=this;t.dialogAnswerFeedBacks=!0,console.log("selected: ",t.selected)},handleAnswerFeedbacks(){const t=this;if(t.$refs.formAnswerFeedbacksRef.validateForm()){const e=t.$refs.formAnswerFeedbacksRef.formData,a=t.selected.map(t=>t.PrimKey).join(",");if(e.TraLoi){const i={CongKhai:e.CongKhai,TraLoi:{NoiDung:e.TraLoi},IdsGopY:a,TinhTrang:{TenMuc:"Đã trả lời",MaMuc:3}},n={payload:i,type:"gopy/response"};t.$store.dispatch("createItemData",n).then((function(e){if(o.a.success("Cập nhật thành công"),t.dialogAnswerFeedBacks=!1,t.emitDataFile){let e=new FormData;e.append("files",t.emitDataFile),e.append("idsGopY",a),e.append("typeUpload",1);const i={type:"gopy/upload",payload:e};t.$store.dispatch("uploadFile",i).then((function(e){t.getListData()})).catch((function(){}))}})).catch((function(){t.loadingData=!1,o.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}else if(!e.TraLoi&&t.emitDataFile){let e=new FormData;e.append("files",t.emitDataFile),e.append("idsGopY",a),e.append("typeUpload",2);const i={type:"gopy/upload",payload:e};t.$store.dispatch("uploadFile",i).then((function(e){o.a.success("Cập nhật thành công"),t.dialogAnswerFeedBacks=!1,t.emitDataFile=null,t.getListData()})).catch((function(){}))}else o.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường");console.log("formdata: ",e,t.emitDataFile,t.selected)}},showModalForm(){const t=this;t.dialogForm=!0,t.edittingForm=!1},closeModalForm(){const t=this;t.dialogForm=!1,t.dataEdit={}},closeModalAnswer(){const t=this;t.dialogFormAnswer=!1},handleEmitDataFile(t){const e=this;e.emitDataFile=t},submitForm(){const t=this;if(t.$refs.formGopYRef.validateForm()){var e;const a=t.$refs.formGopYRef.formData,i={CongKhai:a.CongKhai,TraLoi:{NoiDung:a.TraLoi},IdsGopY:t.dataEdit.PrimKey,TinhTrang:{TenMuc:"Đã trả lời",MaMuc:3}};if(!t.emitDataFile&&null!==(e=t.dataEdit.TraLoi.Attachment)&&void 0!==e&&e.Id&&(i.TraLoi={...i.TraLoi,Attachment:{Id:t.dataEdit.TraLoi.Attachment.Id,FileName:t.dataEdit.TraLoi.Attachment.FileName,FileUrl:t.dataEdit.TraLoi.Attachment.FileUrl,type:"T_Attachment"}}),t.edittingForm){const e={payload:i,type:"gopy/response"};t.$store.dispatch("createItemData",e).then((function(e){var a,i,n,s;if(o.a.success("Cập nhật thành công"),!t.emitDataFile||null!==(a=t.dataEdit)&&void 0!==a&&null!==(i=a.TraLoi)&&void 0!==i&&i.Attachment)if(t.emitDataFile&&null!==(n=t.dataEdit)&&void 0!==n&&null!==(s=n.TraLoi)&&void 0!==s&&s.Attachment&&"string"!==typeof t.emitDataFile){let e=new FormData;e.append("files",t.emitDataFile),e.append("idsGopY",t.dataEdit.PrimKey),e.append("typeUpload",2);const a={type:"gopy/upload",payload:e};t.$store.dispatch("uploadFile",a).then((function(e){t.getListData()})).catch((function(){}))}else t.getListData();else{let e=new FormData;e.append("files",t.emitDataFile),e.append("idsGopY",t.dataEdit.PrimKey),e.append("typeUpload",2);const a={type:"gopy/upload",payload:e};t.$store.dispatch("uploadFile",a).then((function(e){t.getListData()})).catch((function(){}))}t.dialogFormAnswer=!1,t.dialogForm=!1,t.emitDataFile=null,console.log("res post: ",e)})).catch((function(){t.loadingData=!1,o.a.error("Vui lòng kiểm tra lại dữ liệu nhập vào các trường")}))}console.log("submit",a,i)}},dateLocale(t){let e=new Date(t);return`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()}`},formatDate(t){if(!t)return null;const[e,a,i]=t.split("-");return`${i}/${a}/${e}`},parseDate(t){if(!t)return null;const[e,a,i]=t.split("/");return`${i}-${a.padStart(2,"0")}-${e.padStart(2,"0")}`},handleCloseDialogAnswersFeedBack(){const t=this;t.dialogAnswerFeedBacks=!1},handleClickExportFile(){const t=this,e={table:"T_GopY",page:0,size:20,keyword:"",orderFields:"",orderTypes:"",tinhTrang:"",thamChieu_maMuc:""},a={collectionName:"excel/export",typeFile:".xls",nameFile:"DanhSachPhanHoiGopY",data:e};t.$store.dispatch("exportFile",a).catch((function(){o.a.error("Lỗi tải file vui lòng thử lại")}))},handleChangeSelected(t){const e=this;switch(t){case"ST":e.selectedTheme="",e.textSearch="",e.textDateStartSend="",e.textDateEndSend="",e.textNameSearch="",e.selectedStatusPublic="",e.getListData({param:{TinhTrang:e.selectedStatus}});break;case"SP":e.selectedStatus="",e.selectedTheme="",e.textSearch="",e.textDateStartSend="",e.textDateEndSend="",e.textNameSearch="",e.getListData({param:{CongKhai:e.selectedStatusPublic}});break;default:e.selectedStatus="",e.textSearch="",e.textDateEndSend="",e.textDateStartSend="",e.textNameSearch="",e.selectedStatusPublic="",e.getListData({param:{ChuDeMaMuc:e.selectedTheme}});break}},handleChangeText(t){const e=this;e.timeOut&&clearTimeout(e.timeOut),t||(e.timeOut=setTimeout(()=>{e.getListData()},200))},handleChangeDate(){const t=this;t.textDateStartSend||t.textDateEndSend||t.getListData()},selectAllToggle({items:t}){const e=this;if(e.selected.length)e.selected=[];else{const a=t.filter(t=>"Đã trả lời"!==t.TinhTrang.TenMuc);e.selected=a}console.log("toggle select: ",e.selected,t)}},computed:{checkDisable(){const t=this;console.log("computed list feedback",t.listFeedback);const e=t.listFeedback.filter(t=>"Đã trả lời"!==t.TinhTrang.TenMuc);return!!e.length}},watch:{dateStartSend(){const t=this;t.textDateStartSend=t.formatDate(t.dateStartSend)},dateEndSend(){const t=this;t.textDateEndSend=t.formatDate(t.dateEndSend)},dateStartAnswerSend(){const t=this;t.textDateStartAnswerSend=t.formatDate(t.dateStartAnswerSend)},dateEndAnswerSend(){const t=this;t.textDateEndAnswerSend=t.formatDate(t.dateEndAnswerSend)}}},q=H,X=(a("4e2b"),a("8fea")),J=a("2e4b"),Q=a("0e8f"),W=a("a722"),Z=a("e449"),tt=a("9e88"),et=a("8654"),at=Object(h["a"])(q,i,n,!1,null,"0a4e583d",null);e["default"]=at.exports;m()(at,{VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardText:f["b"],VCol:S["a"],VContainer:x["a"],VDataTable:X["a"],VDatePicker:J["a"],VDialog:D["a"],VFlex:Q["a"],VForm:w["a"],VIcon:y["a"],VLayout:W["a"],VMenu:Z["a"],VRow:k["a"],VSelect:F["a"],VSimpleCheckbox:tt["a"],VSpacer:C["a"],VTextField:et["a"],VToolbar:_["a"],VToolbarItems:A["a"],VToolbarTitle:A["b"],VTooltip:E["a"]})},5803:function(t,e,a){},"5c7b":function(t,e,a){},"75a2":function(t,e,a){},"7c39":function(t,e,a){},a844:function(t,e,a){"use strict";a("1681");var i=a("8654"),n=a("58df");const s=Object(n["a"])(i["a"]);e["a"]=s.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...i["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null==(e=this.$refs.input)||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=i["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){i["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},b3e9:function(t,e,a){},d9ac:function(t,e,a){"use strict";a("5c7b")}}]);